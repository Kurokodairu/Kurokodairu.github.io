(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function zr(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const J={},Nt=[],Be=()=>{},Zo=()=>!1,rr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Yr=t=>t.startsWith("onUpdate:"),fe=Object.assign,Qr=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},ea=Object.prototype.hasOwnProperty,K=(t,e)=>ea.call(t,e),I=Array.isArray,Bt=t=>Es(t)==="[object Map]",nr=t=>Es(t)==="[object Set]",En=t=>Es(t)==="[object Date]",F=t=>typeof t=="function",te=t=>typeof t=="string",He=t=>typeof t=="symbol",Z=t=>t!==null&&typeof t=="object",Ei=t=>(Z(t)||F(t))&&F(t.then)&&F(t.catch),xi=Object.prototype.toString,Es=t=>xi.call(t),ta=t=>Es(t).slice(8,-1),Oi=t=>Es(t)==="[object Object]",Xr=t=>te(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ls=zr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ir=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},sa=/-(\w)/g,at=ir(t=>t.replace(sa,(e,s)=>s?s.toUpperCase():"")),ra=/\B([A-Z])/g,St=ir(t=>t.replace(ra,"-$1").toLowerCase()),Pi=ir(t=>t.charAt(0).toUpperCase()+t.slice(1)),_r=ir(t=>t?`on${Pi(t)}`:""),ot=(t,e)=>!Object.is(t,e),Fs=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Ai=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Ks=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let xn;const or=()=>xn||(xn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zr(t){if(I(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=te(r)?aa(r):Zr(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(te(t)||Z(t))return t}const na=/;(?![^(]*\))/g,ia=/:([^]+)/,oa=/\/\*[^]*?\*\//g;function aa(t){const e={};return t.replace(oa,"").split(na).forEach(s=>{if(s){const r=s.split(ia);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function lt(t){let e="";if(te(t))e=t;else if(I(t))for(let s=0;s<t.length;s++){const r=lt(t[s]);r&&(e+=r+" ")}else if(Z(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const la="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ca=zr(la);function Ci(t){return!!t||t===""}function ua(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=ar(t[r],e[r]);return s}function ar(t,e){if(t===e)return!0;let s=En(t),r=En(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=He(t),r=He(e),s||r)return t===e;if(s=I(t),r=I(e),s||r)return s&&r?ua(t,e):!1;if(s=Z(t),r=Z(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!ar(t[o],e[o]))return!1}}return String(t)===String(e)}function ha(t,e){return t.findIndex(s=>ar(s,e))}const ji=t=>!!(t&&t.__v_isRef===!0),oe=t=>te(t)?t:t==null?"":I(t)||Z(t)&&(t.toString===xi||!F(t.toString))?ji(t)?oe(t.value):JSON.stringify(t,$i,2):String(t),$i=(t,e)=>ji(e)?$i(t,e.value):Bt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[vr(r,i)+" =>"]=n,s),{})}:nr(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>vr(s))}:He(e)?vr(e):Z(e)&&!I(e)&&!Oi(e)?String(e):e,vr=(t,e="")=>{var s;return He(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _e;class da{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_e,!e&&_e&&(this.index=(_e.scopes||(_e.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=_e;try{return _e=this,e()}finally{_e=s}}}on(){++this._on===1&&(this.prevScope=_e,_e=this)}off(){this._on>0&&--this._on===0&&(_e=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function fa(){return _e}let Y;const mr=new WeakSet;class Ri{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_e&&_e.active&&_e.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,mr.has(this)&&(mr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Di(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,On(this),Li(this);const e=Y,s=je;Y=this,je=!0;try{return this.fn()}finally{Ui(this),Y=e,je=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)sn(e);this.deps=this.depsTail=void 0,On(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?mr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){jr(this)&&this.run()}get dirty(){return jr(this)}}let Ii=0,cs,us;function Di(t,e=!1){if(t.flags|=8,e){t.next=us,us=t;return}t.next=cs,cs=t}function en(){Ii++}function tn(){if(--Ii>0)return;if(us){let e=us;for(us=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;cs;){let e=cs;for(cs=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Li(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ui(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),sn(r),pa(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function jr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Mi(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Mi(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ms)||(t.globalVersion=ms,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!jr(t))))return;t.flags|=2;const e=t.dep,s=Y,r=je;Y=t,je=!0;try{Li(t);const n=t.fn(t._value);(e.version===0||ot(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{Y=s,je=r,Ui(t),t.flags&=-3}}function sn(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)sn(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function pa(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let je=!0;const Fi=[];function Qe(){Fi.push(je),je=!1}function Xe(){const t=Fi.pop();je=t===void 0?!0:t}function On(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Y;Y=void 0;try{e()}finally{Y=s}}}let ms=0;class ga{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class rn{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Y||!je||Y===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Y)s=this.activeLink=new ga(Y,this),Y.deps?(s.prevDep=Y.depsTail,Y.depsTail.nextDep=s,Y.depsTail=s):Y.deps=Y.depsTail=s,Ni(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=Y.depsTail,s.nextDep=void 0,Y.depsTail.nextDep=s,Y.depsTail=s,Y.deps===s&&(Y.deps=r)}return s}trigger(e){this.version++,ms++,this.notify(e)}notify(e){en();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{tn()}}}function Ni(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Ni(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const $r=new WeakMap,wt=Symbol(""),Rr=Symbol(""),ys=Symbol("");function le(t,e,s){if(je&&Y){let r=$r.get(t);r||$r.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new rn),n.map=r,n.key=s),n.track()}}function ze(t,e,s,r,n,i){const o=$r.get(t);if(!o){ms++;return}const a=l=>{l&&l.trigger()};if(en(),e==="clear")o.forEach(a);else{const l=I(t),u=l&&Xr(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,p)=>{(p==="length"||p===ys||!He(p)&&p>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(ys)),e){case"add":l?u&&a(o.get("length")):(a(o.get(wt)),Bt(t)&&a(o.get(Rr)));break;case"delete":l||(a(o.get(wt)),Bt(t)&&a(o.get(Rr)));break;case"set":Bt(t)&&a(o.get(wt));break}}tn()}function At(t){const e=V(t);return e===t?e:(le(e,"iterate",ys),Oe(t)?e:e.map(ae))}function lr(t){return le(t=V(t),"iterate",ys),t}const _a={__proto__:null,[Symbol.iterator](){return yr(this,Symbol.iterator,ae)},concat(...t){return At(this).concat(...t.map(e=>I(e)?At(e):e))},entries(){return yr(this,"entries",t=>(t[1]=ae(t[1]),t))},every(t,e){return We(this,"every",t,e,void 0,arguments)},filter(t,e){return We(this,"filter",t,e,s=>s.map(ae),arguments)},find(t,e){return We(this,"find",t,e,ae,arguments)},findIndex(t,e){return We(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return We(this,"findLast",t,e,ae,arguments)},findLastIndex(t,e){return We(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return We(this,"forEach",t,e,void 0,arguments)},includes(...t){return br(this,"includes",t)},indexOf(...t){return br(this,"indexOf",t)},join(t){return At(this).join(t)},lastIndexOf(...t){return br(this,"lastIndexOf",t)},map(t,e){return We(this,"map",t,e,void 0,arguments)},pop(){return ts(this,"pop")},push(...t){return ts(this,"push",t)},reduce(t,...e){return Pn(this,"reduce",t,e)},reduceRight(t,...e){return Pn(this,"reduceRight",t,e)},shift(){return ts(this,"shift")},some(t,e){return We(this,"some",t,e,void 0,arguments)},splice(...t){return ts(this,"splice",t)},toReversed(){return At(this).toReversed()},toSorted(t){return At(this).toSorted(t)},toSpliced(...t){return At(this).toSpliced(...t)},unshift(...t){return ts(this,"unshift",t)},values(){return yr(this,"values",ae)}};function yr(t,e,s){const r=lr(t),n=r[e]();return r!==t&&!Oe(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const va=Array.prototype;function We(t,e,s,r,n,i){const o=lr(t),a=o!==t&&!Oe(t),l=o[e];if(l!==va[e]){const h=l.apply(t,i);return a?ae(h):h}let u=s;o!==t&&(a?u=function(h,p){return s.call(this,ae(h),p,t)}:s.length>2&&(u=function(h,p){return s.call(this,h,p,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function Pn(t,e,s,r){const n=lr(t);let i=s;return n!==t&&(Oe(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,ae(a),l,t)}),n[e](i,...r)}function br(t,e,s){const r=V(t);le(r,"iterate",ys);const n=r[e](...s);return(n===-1||n===!1)&&ln(s[0])?(s[0]=V(s[0]),r[e](...s)):n}function ts(t,e,s=[]){Qe(),en();const r=V(t)[e].apply(t,s);return tn(),Xe(),r}const ma=zr("__proto__,__v_isRef,__isVue"),Bi=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(He));function ya(t){He(t)||(t=String(t));const e=V(this);return le(e,"has",t),e.hasOwnProperty(t)}class qi{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Aa:Wi:i?Ki:Vi).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=I(e);if(!n){let l;if(o&&(l=_a[s]))return l;if(s==="hasOwnProperty")return ya}const a=Reflect.get(e,s,ce(e)?e:r);return(He(s)?Bi.has(s):ma(s))||(n||le(e,"get",s),i)?a:ce(a)?o&&Xr(s)?a:a.value:Z(a)?n?Ji(a):on(a):a}}class Hi extends qi{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=ct(i);if(!Oe(r)&&!ct(r)&&(i=V(i),r=V(r)),!I(e)&&ce(i)&&!ce(r))return l?!1:(i.value=r,!0)}const o=I(e)&&Xr(s)?Number(s)<e.length:K(e,s),a=Reflect.set(e,s,r,ce(e)?e:n);return e===V(n)&&(o?ot(r,i)&&ze(e,"set",s,r):ze(e,"add",s,r)),a}deleteProperty(e,s){const r=K(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&ze(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!He(s)||!Bi.has(s))&&le(e,"has",s),r}ownKeys(e){return le(e,"iterate",I(e)?"length":wt),Reflect.ownKeys(e)}}class ba extends qi{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const wa=new Hi,Sa=new ba,ka=new Hi(!0);const Ir=t=>t,js=t=>Reflect.getPrototypeOf(t);function Ta(t,e,s){return function(...r){const n=this.__v_raw,i=V(n),o=Bt(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?Ir:e?Ws:ae;return!e&&le(i,"iterate",l?Rr:wt),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[c(h[0]),c(h[1])]:c(h),done:p}},[Symbol.iterator](){return this}}}}function $s(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Ea(t,e){const s={get(n){const i=this.__v_raw,o=V(i),a=V(n);t||(ot(n,a)&&le(o,"get",n),le(o,"get",a));const{has:l}=js(o),u=e?Ir:t?Ws:ae;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&le(V(n),"iterate",wt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=V(i),a=V(n);return t||(ot(n,a)&&le(o,"has",n),le(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=V(a),u=e?Ir:t?Ws:ae;return!t&&le(l,"iterate",wt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return fe(s,t?{add:$s("add"),set:$s("set"),delete:$s("delete"),clear:$s("clear")}:{add(n){!e&&!Oe(n)&&!ct(n)&&(n=V(n));const i=V(this);return js(i).has.call(i,n)||(i.add(n),ze(i,"add",n,n)),this},set(n,i){!e&&!Oe(i)&&!ct(i)&&(i=V(i));const o=V(this),{has:a,get:l}=js(o);let u=a.call(o,n);u||(n=V(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?ot(i,c)&&ze(o,"set",n,i):ze(o,"add",n,i),this},delete(n){const i=V(this),{has:o,get:a}=js(i);let l=o.call(i,n);l||(n=V(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&ze(i,"delete",n,void 0),u},clear(){const n=V(this),i=n.size!==0,o=n.clear();return i&&ze(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Ta(n,t,e)}),s}function nn(t,e){const s=Ea(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(K(s,n)&&n in r?s:r,n,i)}const xa={get:nn(!1,!1)},Oa={get:nn(!1,!0)},Pa={get:nn(!0,!1)};const Vi=new WeakMap,Ki=new WeakMap,Wi=new WeakMap,Aa=new WeakMap;function Ca(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ja(t){return t.__v_skip||!Object.isExtensible(t)?0:Ca(ta(t))}function on(t){return ct(t)?t:an(t,!1,wa,xa,Vi)}function $a(t){return an(t,!1,ka,Oa,Ki)}function Ji(t){return an(t,!0,Sa,Pa,Wi)}function an(t,e,s,r,n){if(!Z(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=ja(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function qt(t){return ct(t)?qt(t.__v_raw):!!(t&&t.__v_isReactive)}function ct(t){return!!(t&&t.__v_isReadonly)}function Oe(t){return!!(t&&t.__v_isShallow)}function ln(t){return t?!!t.__v_raw:!1}function V(t){const e=t&&t.__v_raw;return e?V(e):t}function Ra(t){return!K(t,"__v_skip")&&Object.isExtensible(t)&&Ai(t,"__v_skip",!0),t}const ae=t=>Z(t)?on(t):t,Ws=t=>Z(t)?Ji(t):t;function ce(t){return t?t.__v_isRef===!0:!1}function ve(t){return Ia(t,!1)}function Ia(t,e){return ce(t)?t:new Da(t,e)}class Da{constructor(e,s){this.dep=new rn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:V(e),this._value=s?e:ae(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Oe(e)||ct(e);e=r?e:V(e),ot(e,s)&&(this._rawValue=e,this._value=r?e:ae(e),this.dep.trigger())}}function q(t){return ce(t)?t.value:t}const La={get:(t,e,s)=>e==="__v_raw"?t:q(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return ce(n)&&!ce(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function Gi(t){return qt(t)?t:new Proxy(t,La)}class Ua{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new rn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ms-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Y!==this)return Di(this,!0),!0}get value(){const e=this.dep.track();return Mi(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ma(t,e,s=!1){let r,n;return F(t)?r=t:(r=t.get,n=t.set),new Ua(r,n,s)}const Rs={},Js=new WeakMap;let vt;function Fa(t,e=!1,s=vt){if(s){let r=Js.get(s);r||Js.set(s,r=[]),r.push(t)}}function Na(t,e,s=J){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=P=>n?P:Oe(P)||n===!1||n===0?Ye(P,1):Ye(P);let c,h,p,g,v=!1,S=!1;if(ce(t)?(h=()=>t.value,v=Oe(t)):qt(t)?(h=()=>u(t),v=!0):I(t)?(S=!0,v=t.some(P=>qt(P)||Oe(P)),h=()=>t.map(P=>{if(ce(P))return P.value;if(qt(P))return u(P);if(F(P))return l?l(P,2):P()})):F(t)?e?h=l?()=>l(t,2):t:h=()=>{if(p){Qe();try{p()}finally{Xe()}}const P=vt;vt=c;try{return l?l(t,3,[g]):t(g)}finally{vt=P}}:h=Be,e&&n){const P=h,U=n===!0?1/0:n;h=()=>Ye(P(),U)}const E=fa(),C=()=>{c.stop(),E&&E.active&&Qr(E.effects,c)};if(i&&e){const P=e;e=(...U)=>{P(...U),C()}}let L=S?new Array(t.length).fill(Rs):Rs;const R=P=>{if(!(!(c.flags&1)||!c.dirty&&!P))if(e){const U=c.run();if(n||v||(S?U.some((Pe,Te)=>ot(Pe,L[Te])):ot(U,L))){p&&p();const Pe=vt;vt=c;try{const Te=[U,L===Rs?void 0:S&&L[0]===Rs?[]:L,g];l?l(e,3,Te):e(...Te),L=U}finally{vt=Pe}}}else c.run()};return a&&a(R),c=new Ri(h),c.scheduler=o?()=>o(R,!1):R,g=P=>Fa(P,!1,c),p=c.onStop=()=>{const P=Js.get(c);if(P){if(l)l(P,4);else for(const U of P)U();Js.delete(c)}},e?r?R(!0):L=c.run():o?o(R.bind(null,!0),!0):c.run(),C.pause=c.pause.bind(c),C.resume=c.resume.bind(c),C.stop=C,C}function Ye(t,e=1/0,s){if(e<=0||!Z(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,ce(t))Ye(t.value,e,s);else if(I(t))for(let r=0;r<t.length;r++)Ye(t[r],e,s);else if(nr(t)||Bt(t))t.forEach(r=>{Ye(r,e,s)});else if(Oi(t)){for(const r in t)Ye(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ye(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xs(t,e,s,r){try{return r?t(...r):t()}catch(n){cr(n,e,s)}}function Ve(t,e,s,r){if(F(t)){const n=xs(t,e,s,r);return n&&Ei(n)&&n.catch(i=>{cr(i,e,s)}),n}if(I(t)){const n=[];for(let i=0;i<t.length;i++)n.push(Ve(t[i],e,s,r));return n}}function cr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||J;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){Qe(),xs(i,null,10,[t,l,u]),Xe();return}}Ba(t,s,n,r,o)}function Ba(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const he=[];let Fe=-1;const Ht=[];let st=null,Mt=0;const zi=Promise.resolve();let Gs=null;function Yi(t){const e=Gs||zi;return t?e.then(this?t.bind(this):t):e}function qa(t){let e=Fe+1,s=he.length;for(;e<s;){const r=e+s>>>1,n=he[r],i=bs(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function cn(t){if(!(t.flags&1)){const e=bs(t),s=he[he.length-1];!s||!(t.flags&2)&&e>=bs(s)?he.push(t):he.splice(qa(e),0,t),t.flags|=1,Qi()}}function Qi(){Gs||(Gs=zi.then(Zi))}function Ha(t){I(t)?Ht.push(...t):st&&t.id===-1?st.splice(Mt+1,0,t):t.flags&1||(Ht.push(t),t.flags|=1),Qi()}function An(t,e,s=Fe+1){for(;s<he.length;s++){const r=he[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;he.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Xi(t){if(Ht.length){const e=[...new Set(Ht)].sort((s,r)=>bs(s)-bs(r));if(Ht.length=0,st){st.push(...e);return}for(st=e,Mt=0;Mt<st.length;Mt++){const s=st[Mt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}st=null,Mt=0}}const bs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Zi(t){try{for(Fe=0;Fe<he.length;Fe++){const e=he[Fe];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),xs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Fe<he.length;Fe++){const e=he[Fe];e&&(e.flags&=-2)}Fe=-1,he.length=0,Xi(),Gs=null,(he.length||Ht.length)&&Zi()}}let xe=null,eo=null;function zs(t){const e=xe;return xe=t,eo=t&&t.type.__scopeId||null,e}function Va(t,e=xe,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Mn(-1);const i=zs(e);let o;try{o=t(...n)}finally{zs(i),r._d&&Mn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function is(t,e){if(xe===null)return t;const s=fr(xe),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=J]=e[n];i&&(F(i)&&(i={mounted:i,updated:i}),i.deep&&Ye(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function pt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Qe(),Ve(l,s,8,[t.el,a,t,e]),Xe())}}const Ka=Symbol("_vte"),Wa=t=>t.__isTeleport;function un(t,e){t.shapeFlag&6&&t.component?(t.transition=e,un(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function to(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Ys(t,e,s,r,n=!1){if(I(t)){t.forEach((v,S)=>Ys(v,e&&(I(e)?e[S]:e),s,r,n));return}if(hs(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ys(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?fr(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===J?a.refs={}:a.refs,h=a.setupState,p=V(h),g=h===J?()=>!1:v=>K(p,v);if(u!=null&&u!==l&&(te(u)?(c[u]=null,g(u)&&(h[u]=null)):ce(u)&&(u.value=null)),F(l))xs(l,a,12,[o,c]);else{const v=te(l),S=ce(l);if(v||S){const E=()=>{if(t.f){const C=v?g(l)?h[l]:c[l]:l.value;n?I(C)&&Qr(C,i):I(C)?C.includes(i)||C.push(i):v?(c[l]=[i],g(l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else v?(c[l]=o,g(l)&&(h[l]=o)):S&&(l.value=o,t.k&&(c[t.k]=o))};o?(E.id=-1,be(E,s)):E()}}}or().requestIdleCallback;or().cancelIdleCallback;const hs=t=>!!t.type.__asyncLoader,so=t=>t.type.__isKeepAlive;function Ja(t,e){ro(t,"a",e)}function Ga(t,e){ro(t,"da",e)}function ro(t,e,s=de){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(ur(e,r,s),s){let n=s.parent;for(;n&&n.parent;)so(n.parent.vnode)&&za(r,e,s,n),n=n.parent}}function za(t,e,s,r){const n=ur(e,t,r,!0);hn(()=>{Qr(r[e],n)},s)}function ur(t,e,s=de,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Qe();const a=Os(s),l=Ve(e,s,t,o);return a(),Xe(),l});return r?n.unshift(i):n.push(i),i}}const Ze=t=>(e,s=de)=>{(!Ss||t==="sp")&&ur(t,(...r)=>e(...r),s)},Ya=Ze("bm"),no=Ze("m"),Qa=Ze("bu"),Xa=Ze("u"),Za=Ze("bum"),hn=Ze("um"),el=Ze("sp"),tl=Ze("rtg"),sl=Ze("rtc");function rl(t,e=de){ur("ec",t,e)}const nl=Symbol.for("v-ndc");function dn(t,e,s,r){let n;const i=s,o=I(t);if(o||te(t)){const a=o&&qt(t);let l=!1,u=!1;a&&(l=!Oe(t),u=ct(t),t=lr(t)),n=new Array(t.length);for(let c=0,h=t.length;c<h;c++)n[c]=e(l?u?Ws(ae(t[c])):ae(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(Z(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}const Dr=t=>t?Oo(t)?fr(t):Dr(t.parent):null,ds=fe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Dr(t.parent),$root:t=>Dr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>oo(t),$forceUpdate:t=>t.f||(t.f=()=>{cn(t.update)}),$nextTick:t=>t.n||(t.n=Yi.bind(t.proxy)),$watch:t=>xl.bind(t)}),wr=(t,e)=>t!==J&&!t.__isScriptSetup&&K(t,e),il={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(wr(r,e))return o[e]=1,r[e];if(n!==J&&K(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&K(u,e))return o[e]=3,i[e];if(s!==J&&K(s,e))return o[e]=4,s[e];Lr&&(o[e]=0)}}const c=ds[e];let h,p;if(c)return e==="$attrs"&&le(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==J&&K(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,K(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return wr(n,e)?(n[e]=s,!0):r!==J&&K(r,e)?(r[e]=s,!0):K(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==J&&K(t,o)||wr(e,o)||(a=i[0])&&K(a,o)||K(r,o)||K(ds,o)||K(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:K(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Cn(t){return I(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Lr=!0;function ol(t){const e=oo(t),s=t.proxy,r=t.ctx;Lr=!1,e.beforeCreate&&jn(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:p,beforeUpdate:g,updated:v,activated:S,deactivated:E,beforeDestroy:C,beforeUnmount:L,destroyed:R,unmounted:P,render:U,renderTracked:Pe,renderTriggered:Te,errorCaptured:$e,serverPrefetch:Et,expose:Ke,inheritAttrs:dt,components:xt,directives:Ot,filters:Qt}=e;if(u&&al(u,r,null),o)for(const Q in o){const H=o[Q];F(H)&&(r[Q]=H.bind(s))}if(n){const Q=n.call(s,s);Z(Q)&&(t.data=on(Q))}if(Lr=!0,i)for(const Q in i){const H=i[Q],Ae=F(H)?H.bind(s,s):F(H.get)?H.get.bind(s,s):Be,Pt=!F(H)&&F(H.set)?H.set.bind(s):Be,ft=Gl({get:Ae,set:Pt});Object.defineProperty(r,Q,{enumerable:!0,configurable:!0,get:()=>ft.value,set:Re=>ft.value=Re})}if(a)for(const Q in a)io(a[Q],r,s,Q);if(l){const Q=F(l)?l.call(s):l;Reflect.ownKeys(Q).forEach(H=>{fl(H,Q[H])})}c&&jn(c,t,"c");function ne(Q,H){I(H)?H.forEach(Ae=>Q(Ae.bind(s))):H&&Q(H.bind(s))}if(ne(Ya,h),ne(no,p),ne(Qa,g),ne(Xa,v),ne(Ja,S),ne(Ga,E),ne(rl,$e),ne(sl,Pe),ne(tl,Te),ne(Za,L),ne(hn,P),ne(el,Et),I(Ke))if(Ke.length){const Q=t.exposed||(t.exposed={});Ke.forEach(H=>{Object.defineProperty(Q,H,{get:()=>s[H],set:Ae=>s[H]=Ae})})}else t.exposed||(t.exposed={});U&&t.render===Be&&(t.render=U),dt!=null&&(t.inheritAttrs=dt),xt&&(t.components=xt),Ot&&(t.directives=Ot),Et&&to(t)}function al(t,e,s=Be){I(t)&&(t=Ur(t));for(const r in t){const n=t[r];let i;Z(n)?"default"in n?i=Ns(n.from||r,n.default,!0):i=Ns(n.from||r):i=Ns(n),ce(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function jn(t,e,s){Ve(I(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function io(t,e,s,r){let n=r.includes(".")?bo(s,r):()=>s[r];if(te(t)){const i=e[t];F(i)&&fs(n,i)}else if(F(t))fs(n,t.bind(s));else if(Z(t))if(I(t))t.forEach(i=>io(i,e,s,r));else{const i=F(t.handler)?t.handler.bind(s):e[t.handler];F(i)&&fs(n,i,t)}}function oo(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>Qs(l,u,o,!0)),Qs(l,e,o)),Z(e)&&i.set(e,l),l}function Qs(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Qs(t,i,s,!0),n&&n.forEach(o=>Qs(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=ll[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const ll={data:$n,props:Rn,emits:Rn,methods:os,computed:os,beforeCreate:ue,created:ue,beforeMount:ue,mounted:ue,beforeUpdate:ue,updated:ue,beforeDestroy:ue,beforeUnmount:ue,destroyed:ue,unmounted:ue,activated:ue,deactivated:ue,errorCaptured:ue,serverPrefetch:ue,components:os,directives:os,watch:ul,provide:$n,inject:cl};function $n(t,e){return e?t?function(){return fe(F(t)?t.call(this,this):t,F(e)?e.call(this,this):e)}:e:t}function cl(t,e){return os(Ur(t),Ur(e))}function Ur(t){if(I(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ue(t,e){return t?[...new Set([].concat(t,e))]:e}function os(t,e){return t?fe(Object.create(null),t,e):e}function Rn(t,e){return t?I(t)&&I(e)?[...new Set([...t,...e])]:fe(Object.create(null),Cn(t),Cn(e??{})):e}function ul(t,e){if(!t)return e;if(!e)return t;const s=fe(Object.create(null),t);for(const r in e)s[r]=ue(t[r],e[r]);return s}function ao(){return{app:null,config:{isNativeTag:Zo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hl=0;function dl(t,e){return function(r,n=null){F(r)||(r=fe({},r)),n!=null&&!Z(n)&&(n=null);const i=ao(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:hl++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:zl,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&F(c.install)?(o.add(c),c.install(u,...h)):F(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,p){if(!l){const g=u._ceVNode||ie(r,n);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(g,c,p),l=!0,u._container=c,c.__vue_app__=u,fr(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ve(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=Vt;Vt=u;try{return c()}finally{Vt=h}}};return u}}let Vt=null;function fl(t,e){if(de){let s=de.provides;const r=de.parent&&de.parent.provides;r===s&&(s=de.provides=Object.create(r)),s[t]=e}}function Ns(t,e,s=!1){const r=de||xe;if(r||Vt){const n=Vt?Vt._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&F(e)?e.call(r&&r.proxy):e}}const lo={},co=()=>Object.create(lo),uo=t=>Object.getPrototypeOf(t)===lo;function pl(t,e,s,r=!1){const n={},i=co();t.propsDefaults=Object.create(null),ho(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:$a(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function gl(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=V(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let p=c[h];if(hr(t.emitsOptions,p))continue;const g=e[p];if(l)if(K(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const v=at(p);n[v]=Mr(l,a,v,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{ho(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!K(e,h)&&((c=St(h))===h||!K(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=Mr(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!K(e,h))&&(delete i[h],u=!0)}u&&ze(t.attrs,"set","")}function ho(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ls(l))continue;const u=e[l];let c;n&&K(n,c=at(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:hr(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=V(s),u=a||J;for(let c=0;c<i.length;c++){const h=i[c];s[h]=Mr(n,l,h,u[h],t,!K(u,h))}}return o}function Mr(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=K(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&F(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Os(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===St(s))&&(r=!0))}return r}const _l=new WeakMap;function fo(t,e,s=!1){const r=s?_l:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!F(t)){const c=h=>{l=!0;const[p,g]=fo(h,e,!0);fe(o,p),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return Z(t)&&r.set(t,Nt),Nt;if(I(i))for(let c=0;c<i.length;c++){const h=at(i[c]);In(h)&&(o[h]=J)}else if(i)for(const c in i){const h=at(c);if(In(h)){const p=i[c],g=o[h]=I(p)||F(p)?{type:p}:fe({},p),v=g.type;let S=!1,E=!0;if(I(v))for(let C=0;C<v.length;++C){const L=v[C],R=F(L)&&L.name;if(R==="Boolean"){S=!0;break}else R==="String"&&(E=!1)}else S=F(v)&&v.name==="Boolean";g[0]=S,g[1]=E,(S||K(g,"default"))&&a.push(h)}}const u=[o,a];return Z(t)&&r.set(t,u),u}function In(t){return t[0]!=="$"&&!ls(t)}const fn=t=>t[0]==="_"||t==="$stable",pn=t=>I(t)?t.map(Ne):[Ne(t)],vl=(t,e,s)=>{if(e._n)return e;const r=Va((...n)=>pn(e(...n)),s);return r._c=!1,r},po=(t,e,s)=>{const r=t._ctx;for(const n in t){if(fn(n))continue;const i=t[n];if(F(i))e[n]=vl(n,i,r);else if(i!=null){const o=pn(i);e[n]=()=>o}}},go=(t,e)=>{const s=pn(e);t.slots.default=()=>s},_o=(t,e,s)=>{for(const r in e)(s||!fn(r))&&(t[r]=e[r])},ml=(t,e,s)=>{const r=t.slots=co();if(t.vnode.shapeFlag&32){const n=e._;n?(_o(r,e,s),s&&Ai(r,"_",n,!0)):po(e,r)}else e&&go(t,e)},yl=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=J;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:_o(n,e,s):(i=!e.$stable,po(e,n)),o=e}else e&&(go(t,e),o={default:1});if(i)for(const a in n)!fn(a)&&o[a]==null&&delete n[a]},be=Rl;function bl(t){return wl(t)}function wl(t,e){const s=or();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:p,setScopeId:g=Be,insertStaticContent:v}=t,S=(d,f,_,b=null,m=null,y=null,x=void 0,T=null,k=!!f.dynamicChildren)=>{if(d===f)return;d&&!ss(d,f)&&(b=Cs(d),Re(d,m,y,!0),d=null),f.patchFlag===-2&&(k=!1,f.dynamicChildren=null);const{type:w,ref:$,shapeFlag:O}=f;switch(w){case dr:E(d,f,_,b);break;case ut:C(d,f,_,b);break;case Bs:d==null&&L(f,_,b,x);break;case Se:xt(d,f,_,b,m,y,x,T,k);break;default:O&1?U(d,f,_,b,m,y,x,T,k):O&6?Ot(d,f,_,b,m,y,x,T,k):(O&64||O&128)&&w.process(d,f,_,b,m,y,x,T,k,Zt)}$!=null&&m&&Ys($,d&&d.ref,y,f||d,!f)},E=(d,f,_,b)=>{if(d==null)r(f.el=a(f.children),_,b);else{const m=f.el=d.el;f.children!==d.children&&u(m,f.children)}},C=(d,f,_,b)=>{d==null?r(f.el=l(f.children||""),_,b):f.el=d.el},L=(d,f,_,b)=>{[d.el,d.anchor]=v(d.children,f,_,b,d.el,d.anchor)},R=({el:d,anchor:f},_,b)=>{let m;for(;d&&d!==f;)m=p(d),r(d,_,b),d=m;r(f,_,b)},P=({el:d,anchor:f})=>{let _;for(;d&&d!==f;)_=p(d),n(d),d=_;n(f)},U=(d,f,_,b,m,y,x,T,k)=>{f.type==="svg"?x="svg":f.type==="math"&&(x="mathml"),d==null?Pe(f,_,b,m,y,x,T,k):Et(d,f,m,y,x,T,k)},Pe=(d,f,_,b,m,y,x,T)=>{let k,w;const{props:$,shapeFlag:O,transition:j,dirs:D}=d;if(k=d.el=o(d.type,y,$&&$.is,$),O&8?c(k,d.children):O&16&&$e(d.children,k,null,b,m,Sr(d,y),x,T),D&&pt(d,null,b,"created"),Te(k,d,d.scopeId,x,b),$){for(const G in $)G!=="value"&&!ls(G)&&i(k,G,null,$[G],y,b);"value"in $&&i(k,"value",null,$.value,y),(w=$.onVnodeBeforeMount)&&Ue(w,b,d)}D&&pt(d,null,b,"beforeMount");const B=Sl(m,j);B&&j.beforeEnter(k),r(k,f,_),((w=$&&$.onVnodeMounted)||B||D)&&be(()=>{w&&Ue(w,b,d),B&&j.enter(k),D&&pt(d,null,b,"mounted")},m)},Te=(d,f,_,b,m)=>{if(_&&g(d,_),b)for(let y=0;y<b.length;y++)g(d,b[y]);if(m){let y=m.subTree;if(f===y||So(y.type)&&(y.ssContent===f||y.ssFallback===f)){const x=m.vnode;Te(d,x,x.scopeId,x.slotScopeIds,m.parent)}}},$e=(d,f,_,b,m,y,x,T,k=0)=>{for(let w=k;w<d.length;w++){const $=d[w]=T?rt(d[w]):Ne(d[w]);S(null,$,f,_,b,m,y,x,T)}},Et=(d,f,_,b,m,y,x)=>{const T=f.el=d.el;let{patchFlag:k,dynamicChildren:w,dirs:$}=f;k|=d.patchFlag&16;const O=d.props||J,j=f.props||J;let D;if(_&&gt(_,!1),(D=j.onVnodeBeforeUpdate)&&Ue(D,_,f,d),$&&pt(f,d,_,"beforeUpdate"),_&&gt(_,!0),(O.innerHTML&&j.innerHTML==null||O.textContent&&j.textContent==null)&&c(T,""),w?Ke(d.dynamicChildren,w,T,_,b,Sr(f,m),y):x||H(d,f,T,null,_,b,Sr(f,m),y,!1),k>0){if(k&16)dt(T,O,j,_,m);else if(k&2&&O.class!==j.class&&i(T,"class",null,j.class,m),k&4&&i(T,"style",O.style,j.style,m),k&8){const B=f.dynamicProps;for(let G=0;G<B.length;G++){const W=B[G],me=O[W],pe=j[W];(pe!==me||W==="value")&&i(T,W,me,pe,m,_)}}k&1&&d.children!==f.children&&c(T,f.children)}else!x&&w==null&&dt(T,O,j,_,m);((D=j.onVnodeUpdated)||$)&&be(()=>{D&&Ue(D,_,f,d),$&&pt(f,d,_,"updated")},b)},Ke=(d,f,_,b,m,y,x)=>{for(let T=0;T<f.length;T++){const k=d[T],w=f[T],$=k.el&&(k.type===Se||!ss(k,w)||k.shapeFlag&70)?h(k.el):_;S(k,w,$,null,b,m,y,x,!0)}},dt=(d,f,_,b,m)=>{if(f!==_){if(f!==J)for(const y in f)!ls(y)&&!(y in _)&&i(d,y,f[y],null,m,b);for(const y in _){if(ls(y))continue;const x=_[y],T=f[y];x!==T&&y!=="value"&&i(d,y,T,x,m,b)}"value"in _&&i(d,"value",f.value,_.value,m)}},xt=(d,f,_,b,m,y,x,T,k)=>{const w=f.el=d?d.el:a(""),$=f.anchor=d?d.anchor:a("");let{patchFlag:O,dynamicChildren:j,slotScopeIds:D}=f;D&&(T=T?T.concat(D):D),d==null?(r(w,_,b),r($,_,b),$e(f.children||[],_,$,m,y,x,T,k)):O>0&&O&64&&j&&d.dynamicChildren?(Ke(d.dynamicChildren,j,_,m,y,x,T),(f.key!=null||m&&f===m.subTree)&&vo(d,f,!0)):H(d,f,_,$,m,y,x,T,k)},Ot=(d,f,_,b,m,y,x,T,k)=>{f.slotScopeIds=T,d==null?f.shapeFlag&512?m.ctx.activate(f,_,b,x,k):Qt(f,_,b,m,y,x,k):As(d,f,k)},Qt=(d,f,_,b,m,y,x)=>{const T=d.component=ql(d,b,m);if(so(d)&&(T.ctx.renderer=Zt),Hl(T,!1,x),T.asyncDep){if(m&&m.registerDep(T,ne,x),!d.el){const k=T.subTree=ie(ut);C(null,k,f,_)}}else ne(T,d,f,_,m,y,x)},As=(d,f,_)=>{const b=f.component=d.component;if(jl(d,f,_))if(b.asyncDep&&!b.asyncResolved){Q(b,f,_);return}else b.next=f,b.update();else f.el=d.el,b.vnode=f},ne=(d,f,_,b,m,y,x)=>{const T=()=>{if(d.isMounted){let{next:O,bu:j,u:D,parent:B,vnode:G}=d;{const De=mo(d);if(De){O&&(O.el=G.el,Q(d,O,x)),De.asyncDep.then(()=>{d.isUnmounted||T()});return}}let W=O,me;gt(d,!1),O?(O.el=G.el,Q(d,O,x)):O=G,j&&Fs(j),(me=O.props&&O.props.onVnodeBeforeUpdate)&&Ue(me,B,O,G),gt(d,!0);const pe=Ln(d),Ie=d.subTree;d.subTree=pe,S(Ie,pe,h(Ie.el),Cs(Ie),d,m,y),O.el=pe.el,W===null&&$l(d,pe.el),D&&be(D,m),(me=O.props&&O.props.onVnodeUpdated)&&be(()=>Ue(me,B,O,G),m)}else{let O;const{el:j,props:D}=f,{bm:B,m:G,parent:W,root:me,type:pe}=d,Ie=hs(f);gt(d,!1),B&&Fs(B),!Ie&&(O=D&&D.onVnodeBeforeMount)&&Ue(O,W,f),gt(d,!0);{me.ce&&me.ce._injectChildStyle(pe);const De=d.subTree=Ln(d);S(null,De,_,b,d,m,y),f.el=De.el}if(G&&be(G,m),!Ie&&(O=D&&D.onVnodeMounted)){const De=f;be(()=>Ue(O,W,De),m)}(f.shapeFlag&256||W&&hs(W.vnode)&&W.vnode.shapeFlag&256)&&d.a&&be(d.a,m),d.isMounted=!0,f=_=b=null}};d.scope.on();const k=d.effect=new Ri(T);d.scope.off();const w=d.update=k.run.bind(k),$=d.job=k.runIfDirty.bind(k);$.i=d,$.id=d.uid,k.scheduler=()=>cn($),gt(d,!0),w()},Q=(d,f,_)=>{f.component=d;const b=d.vnode.props;d.vnode=f,d.next=null,gl(d,f.props,b,_),yl(d,f.children,_),Qe(),An(d),Xe()},H=(d,f,_,b,m,y,x,T,k=!1)=>{const w=d&&d.children,$=d?d.shapeFlag:0,O=f.children,{patchFlag:j,shapeFlag:D}=f;if(j>0){if(j&128){Pt(w,O,_,b,m,y,x,T,k);return}else if(j&256){Ae(w,O,_,b,m,y,x,T,k);return}}D&8?($&16&&Xt(w,m,y),O!==w&&c(_,O)):$&16?D&16?Pt(w,O,_,b,m,y,x,T,k):Xt(w,m,y,!0):($&8&&c(_,""),D&16&&$e(O,_,b,m,y,x,T,k))},Ae=(d,f,_,b,m,y,x,T,k)=>{d=d||Nt,f=f||Nt;const w=d.length,$=f.length,O=Math.min(w,$);let j;for(j=0;j<O;j++){const D=f[j]=k?rt(f[j]):Ne(f[j]);S(d[j],D,_,null,m,y,x,T,k)}w>$?Xt(d,m,y,!0,!1,O):$e(f,_,b,m,y,x,T,k,O)},Pt=(d,f,_,b,m,y,x,T,k)=>{let w=0;const $=f.length;let O=d.length-1,j=$-1;for(;w<=O&&w<=j;){const D=d[w],B=f[w]=k?rt(f[w]):Ne(f[w]);if(ss(D,B))S(D,B,_,null,m,y,x,T,k);else break;w++}for(;w<=O&&w<=j;){const D=d[O],B=f[j]=k?rt(f[j]):Ne(f[j]);if(ss(D,B))S(D,B,_,null,m,y,x,T,k);else break;O--,j--}if(w>O){if(w<=j){const D=j+1,B=D<$?f[D].el:b;for(;w<=j;)S(null,f[w]=k?rt(f[w]):Ne(f[w]),_,B,m,y,x,T,k),w++}}else if(w>j)for(;w<=O;)Re(d[w],m,y,!0),w++;else{const D=w,B=w,G=new Map;for(w=B;w<=j;w++){const ye=f[w]=k?rt(f[w]):Ne(f[w]);ye.key!=null&&G.set(ye.key,w)}let W,me=0;const pe=j-B+1;let Ie=!1,De=0;const es=new Array(pe);for(w=0;w<pe;w++)es[w]=0;for(w=D;w<=O;w++){const ye=d[w];if(me>=pe){Re(ye,m,y,!0);continue}let Le;if(ye.key!=null)Le=G.get(ye.key);else for(W=B;W<=j;W++)if(es[W-B]===0&&ss(ye,f[W])){Le=W;break}Le===void 0?Re(ye,m,y,!0):(es[Le-B]=w+1,Le>=De?De=Le:Ie=!0,S(ye,f[Le],_,null,m,y,x,T,k),me++)}const kn=Ie?kl(es):Nt;for(W=kn.length-1,w=pe-1;w>=0;w--){const ye=B+w,Le=f[ye],Tn=ye+1<$?f[ye+1].el:b;es[w]===0?S(null,Le,_,Tn,m,y,x,T,k):Ie&&(W<0||w!==kn[W]?ft(Le,_,Tn,2):W--)}}},ft=(d,f,_,b,m=null)=>{const{el:y,type:x,transition:T,children:k,shapeFlag:w}=d;if(w&6){ft(d.component.subTree,f,_,b);return}if(w&128){d.suspense.move(f,_,b);return}if(w&64){x.move(d,f,_,Zt);return}if(x===Se){r(y,f,_);for(let O=0;O<k.length;O++)ft(k[O],f,_,b);r(d.anchor,f,_);return}if(x===Bs){R(d,f,_);return}if(b!==2&&w&1&&T)if(b===0)T.beforeEnter(y),r(y,f,_),be(()=>T.enter(y),m);else{const{leave:O,delayLeave:j,afterLeave:D}=T,B=()=>{d.ctx.isUnmounted?n(y):r(y,f,_)},G=()=>{O(y,()=>{B(),D&&D()})};j?j(y,B,G):G()}else r(y,f,_)},Re=(d,f,_,b=!1,m=!1)=>{const{type:y,props:x,ref:T,children:k,dynamicChildren:w,shapeFlag:$,patchFlag:O,dirs:j,cacheIndex:D}=d;if(O===-2&&(m=!1),T!=null&&(Qe(),Ys(T,null,_,d,!0),Xe()),D!=null&&(f.renderCache[D]=void 0),$&256){f.ctx.deactivate(d);return}const B=$&1&&j,G=!hs(d);let W;if(G&&(W=x&&x.onVnodeBeforeUnmount)&&Ue(W,f,d),$&6)Xo(d.component,_,b);else{if($&128){d.suspense.unmount(_,b);return}B&&pt(d,null,f,"beforeUnmount"),$&64?d.type.remove(d,f,_,Zt,b):w&&!w.hasOnce&&(y!==Se||O>0&&O&64)?Xt(w,f,_,!1,!0):(y===Se&&O&384||!m&&$&16)&&Xt(k,f,_),b&&wn(d)}(G&&(W=x&&x.onVnodeUnmounted)||B)&&be(()=>{W&&Ue(W,f,d),B&&pt(d,null,f,"unmounted")},_)},wn=d=>{const{type:f,el:_,anchor:b,transition:m}=d;if(f===Se){Qo(_,b);return}if(f===Bs){P(d);return}const y=()=>{n(_),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(d.shapeFlag&1&&m&&!m.persisted){const{leave:x,delayLeave:T}=m,k=()=>x(_,y);T?T(d.el,y,k):k()}else y()},Qo=(d,f)=>{let _;for(;d!==f;)_=p(d),n(d),d=_;n(f)},Xo=(d,f,_)=>{const{bum:b,scope:m,job:y,subTree:x,um:T,m:k,a:w,parent:$,slots:{__:O}}=d;Dn(k),Dn(w),b&&Fs(b),$&&I(O)&&O.forEach(j=>{$.renderCache[j]=void 0}),m.stop(),y&&(y.flags|=8,Re(x,d,f,_)),T&&be(T,f),be(()=>{d.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},Xt=(d,f,_,b=!1,m=!1,y=0)=>{for(let x=y;x<d.length;x++)Re(d[x],f,_,b,m)},Cs=d=>{if(d.shapeFlag&6)return Cs(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const f=p(d.anchor||d.el),_=f&&f[Ka];return _?p(_):f};let gr=!1;const Sn=(d,f,_)=>{d==null?f._vnode&&Re(f._vnode,null,null,!0):S(f._vnode||null,d,f,null,null,null,_),f._vnode=d,gr||(gr=!0,An(),Xi(),gr=!1)},Zt={p:S,um:Re,m:ft,r:wn,mt:Qt,mc:$e,pc:H,pbc:Ke,n:Cs,o:t};return{render:Sn,hydrate:void 0,createApp:dl(Sn)}}function Sr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function gt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Sl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function vo(t,e,s=!1){const r=t.children,n=e.children;if(I(r)&&I(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=rt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&vo(o,a)),a.type===dr&&(a.el=o.el),a.type===ut&&!a.el&&(a.el=o.el)}}function kl(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function mo(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:mo(e)}function Dn(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Tl=Symbol.for("v-scx"),El=()=>Ns(Tl);function fs(t,e,s){return yo(t,e,s)}function yo(t,e,s=J){const{immediate:r,deep:n,flush:i,once:o}=s,a=fe({},s),l=e&&r||!e&&i!=="post";let u;if(Ss){if(i==="sync"){const g=El();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Be,g.resume=Be,g.pause=Be,g}}const c=de;a.call=(g,v,S)=>Ve(g,c,v,S);let h=!1;i==="post"?a.scheduler=g=>{be(g,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(g,v)=>{v?g():cn(g)}),a.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const p=Na(t,e,a);return Ss&&(u?u.push(p):l&&p()),p}function xl(t,e,s){const r=this.proxy,n=te(t)?t.includes(".")?bo(r,t):()=>r[t]:t.bind(r,r);let i;F(e)?i=e:(i=e.handler,s=e);const o=Os(this),a=yo(n,i.bind(r),s);return o(),a}function bo(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Ol=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${at(e)}Modifiers`]||t[`${St(e)}Modifiers`];function Pl(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||J;let n=s;const i=e.startsWith("update:"),o=i&&Ol(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>te(c)?c.trim():c)),o.number&&(n=s.map(Ks)));let a,l=r[a=_r(e)]||r[a=_r(at(e))];!l&&i&&(l=r[a=_r(St(e))]),l&&Ve(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ve(u,t,6,n)}}function wo(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!F(t)){const l=u=>{const c=wo(u,e,!0);c&&(a=!0,fe(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Z(t)&&r.set(t,null),null):(I(i)?i.forEach(l=>o[l]=null):fe(o,i),Z(t)&&r.set(t,o),o)}function hr(t,e){return!t||!rr(e)?!1:(e=e.slice(2).replace(/Once$/,""),K(t,e[0].toLowerCase()+e.slice(1))||K(t,St(e))||K(t,e))}function Ln(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:p,setupState:g,ctx:v,inheritAttrs:S}=t,E=zs(t);let C,L;try{if(s.shapeFlag&4){const P=n||r,U=P;C=Ne(u.call(U,P,c,h,g,p,v)),L=a}else{const P=e;C=Ne(P.length>1?P(h,{attrs:a,slots:o,emit:l}):P(h,null)),L=e.props?a:Al(a)}}catch(P){ps.length=0,cr(P,t,1),C=ie(ut)}let R=C;if(L&&S!==!1){const P=Object.keys(L),{shapeFlag:U}=R;P.length&&U&7&&(i&&P.some(Yr)&&(L=Cl(L,i)),R=Jt(R,L,!1,!0))}return s.dirs&&(R=Jt(R,null,!1,!0),R.dirs=R.dirs?R.dirs.concat(s.dirs):s.dirs),s.transition&&un(R,s.transition),C=R,zs(E),C}const Al=t=>{let e;for(const s in t)(s==="class"||s==="style"||rr(s))&&((e||(e={}))[s]=t[s]);return e},Cl=(t,e)=>{const s={};for(const r in t)(!Yr(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function jl(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Un(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const p=c[h];if(o[p]!==r[p]&&!hr(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Un(r,o,u):!0:!!o;return!1}function Un(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!hr(s,i))return!0}return!1}function $l({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const So=t=>t.__isSuspense;function Rl(t,e){e&&e.pendingBranch?I(t)?e.effects.push(...t):e.effects.push(t):Ha(t)}const Se=Symbol.for("v-fgt"),dr=Symbol.for("v-txt"),ut=Symbol.for("v-cmt"),Bs=Symbol.for("v-stc"),ps=[];let ke=null;function X(t=!1){ps.push(ke=t?null:[])}function Il(){ps.pop(),ke=ps[ps.length-1]||null}let ws=1;function Mn(t,e=!1){ws+=t,t<0&&ke&&e&&(ke.hasOnce=!0)}function ko(t){return t.dynamicChildren=ws>0?ke||Nt:null,Il(),ws>0&&ke&&ke.push(t),t}function ee(t,e,s,r,n,i){return ko(A(t,e,s,r,n,i,!0))}function Dl(t,e,s,r,n){return ko(ie(t,e,s,r,n,!0))}function To(t){return t?t.__v_isVNode===!0:!1}function ss(t,e){return t.type===e.type&&t.key===e.key}const Eo=({key:t})=>t??null,qs=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?te(t)||ce(t)||F(t)?{i:xe,r:t,k:e,f:!!s}:t:null);function A(t,e=null,s=null,r=0,n=null,i=t===Se?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Eo(e),ref:e&&qs(e),scopeId:eo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:xe};return a?(gn(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=te(s)?8:16),ws>0&&!o&&ke&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ke.push(l),l}const ie=Ll;function Ll(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===nl)&&(t=ut),To(t)){const a=Jt(t,e,!0);return s&&gn(a,s),ws>0&&!i&&ke&&(a.shapeFlag&6?ke[ke.indexOf(t)]=a:ke.push(a)),a.patchFlag=-2,a}if(Jl(t)&&(t=t.__vccOpts),e){e=Ul(e);let{class:a,style:l}=e;a&&!te(a)&&(e.class=lt(a)),Z(l)&&(ln(l)&&!I(l)&&(l=fe({},l)),e.style=Zr(l))}const o=te(t)?1:So(t)?128:Wa(t)?64:Z(t)?4:F(t)?2:0;return A(t,e,s,r,n,o,i,!0)}function Ul(t){return t?ln(t)||uo(t)?fe({},t):t:null}function Jt(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Fl(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Eo(u),ref:e&&e.ref?s&&i?I(i)?i.concat(qs(e)):[i,qs(e)]:qs(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Se?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Jt(t.ssContent),ssFallback:t.ssFallback&&Jt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&un(c,l.clone(c)),c}function xo(t=" ",e=0){return ie(dr,null,t,e)}function Ml(t,e){const s=ie(Bs,null,t);return s.staticCount=e,s}function qe(t="",e=!1){return e?(X(),Dl(ut,null,t)):ie(ut,null,t)}function Ne(t){return t==null||typeof t=="boolean"?ie(ut):I(t)?ie(Se,null,t.slice()):To(t)?rt(t):ie(dr,null,String(t))}function rt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Jt(t)}function gn(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(I(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),gn(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!uo(e)?e._ctx=xe:n===3&&xe&&(xe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else F(e)?(e={default:e,_ctx:xe},s=32):(e=String(e),r&64?(s=16,e=[xo(e)]):s=8);t.children=e,t.shapeFlag|=s}function Fl(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=lt([e.class,r.class]));else if(n==="style")e.style=Zr([e.style,r.style]);else if(rr(n)){const i=e[n],o=r[n];o&&i!==o&&!(I(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Ue(t,e,s,r=null){Ve(t,e,7,[s,r])}const Nl=ao();let Bl=0;function ql(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||Nl,i={uid:Bl++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new da(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fo(r,n),emitsOptions:wo(r,n),emit:null,emitted:null,propsDefaults:J,inheritAttrs:r.inheritAttrs,ctx:J,data:J,props:J,attrs:J,slots:J,refs:J,setupState:J,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Pl.bind(null,i),t.ce&&t.ce(i),i}let de=null,Xs,Fr;{const t=or(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Xs=e("__VUE_INSTANCE_SETTERS__",s=>de=s),Fr=e("__VUE_SSR_SETTERS__",s=>Ss=s)}const Os=t=>{const e=de;return Xs(t),t.scope.on(),()=>{t.scope.off(),Xs(e)}},Fn=()=>{de&&de.scope.off(),Xs(null)};function Oo(t){return t.vnode.shapeFlag&4}let Ss=!1;function Hl(t,e=!1,s=!1){e&&Fr(e);const{props:r,children:n}=t.vnode,i=Oo(t);pl(t,r,i,e),ml(t,n,s||e);const o=i?Vl(t,e):void 0;return e&&Fr(!1),o}function Vl(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,il);const{setup:r}=s;if(r){Qe();const n=t.setupContext=r.length>1?Wl(t):null,i=Os(t),o=xs(r,t,0,[t.props,n]),a=Ei(o);if(Xe(),i(),(a||t.sp)&&!hs(t)&&to(t),a){if(o.then(Fn,Fn),e)return o.then(l=>{Nn(t,l)}).catch(l=>{cr(l,t,0)});t.asyncDep=o}else Nn(t,o)}else Po(t)}function Nn(t,e,s){F(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Z(e)&&(t.setupState=Gi(e)),Po(t)}function Po(t,e,s){const r=t.type;t.render||(t.render=r.render||Be);{const n=Os(t);Qe();try{ol(t)}finally{Xe(),n()}}}const Kl={get(t,e){return le(t,"get",""),t[e]}};function Wl(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Kl),slots:t.slots,emit:t.emit,expose:e}}function fr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Gi(Ra(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in ds)return ds[s](t)},has(e,s){return s in e||s in ds}})):t.proxy}function Jl(t){return F(t)&&"__vccOpts"in t}const Gl=(t,e)=>Ma(t,e,Ss),zl="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Nr;const Bn=typeof window<"u"&&window.trustedTypes;if(Bn)try{Nr=Bn.createPolicy("vue",{createHTML:t=>t})}catch{}const Ao=Nr?t=>Nr.createHTML(t):t=>t,Yl="http://www.w3.org/2000/svg",Ql="http://www.w3.org/1998/Math/MathML",Je=typeof document<"u"?document:null,qn=Je&&Je.createElement("template"),Xl={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?Je.createElementNS(Yl,t):e==="mathml"?Je.createElementNS(Ql,t):s?Je.createElement(t,{is:s}):Je.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>Je.createTextNode(t),createComment:t=>Je.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Je.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{qn.innerHTML=Ao(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=qn.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Zl=Symbol("_vtc");function ec(t,e,s){const r=t[Zl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Hn=Symbol("_vod"),tc=Symbol("_vsh"),sc=Symbol(""),rc=/(^|;)\s*display\s*:/;function nc(t,e,s){const r=t.style,n=te(s);let i=!1;if(s&&!n){if(e)if(te(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Hs(r,a,"")}else for(const o in e)s[o]==null&&Hs(r,o,"");for(const o in s)o==="display"&&(i=!0),Hs(r,o,s[o])}else if(n){if(e!==s){const o=r[sc];o&&(s+=";"+o),r.cssText=s,i=rc.test(s)}}else e&&t.removeAttribute("style");Hn in t&&(t[Hn]=i?r.display:"",t[tc]&&(r.display="none"))}const Vn=/\s*!important$/;function Hs(t,e,s){if(I(s))s.forEach(r=>Hs(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=ic(t,e);Vn.test(s)?t.setProperty(St(r),s.replace(Vn,""),"important"):t[r]=s}}const Kn=["Webkit","Moz","ms"],kr={};function ic(t,e){const s=kr[e];if(s)return s;let r=at(e);if(r!=="filter"&&r in t)return kr[e]=r;r=Pi(r);for(let n=0;n<Kn.length;n++){const i=Kn[n]+r;if(i in t)return kr[e]=i}return e}const Wn="http://www.w3.org/1999/xlink";function Jn(t,e,s,r,n,i=ca(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Wn,e.slice(6,e.length)):t.setAttributeNS(Wn,e,s):s==null||i&&!Ci(s)?t.removeAttribute(e):t.setAttribute(e,i?"":He(s)?String(s):s)}function Gn(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Ao(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Ci(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function yt(t,e,s,r){t.addEventListener(e,s,r)}function oc(t,e,s,r){t.removeEventListener(e,s,r)}const zn=Symbol("_vei");function ac(t,e,s,r,n=null){const i=t[zn]||(t[zn]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=lc(e);if(r){const u=i[e]=hc(r,n);yt(t,a,u,l)}else o&&(oc(t,a,o,l),i[e]=void 0)}}const Yn=/(?:Once|Passive|Capture)$/;function lc(t){let e;if(Yn.test(t)){e={};let r;for(;r=t.match(Yn);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):St(t.slice(2)),e]}let Tr=0;const cc=Promise.resolve(),uc=()=>Tr||(cc.then(()=>Tr=0),Tr=Date.now());function hc(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Ve(dc(r,s.value),e,5,[r])};return s.value=t,s.attached=uc(),s}function dc(t,e){if(I(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Qn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,fc=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?ec(t,r,o):e==="style"?nc(t,s,r):rr(e)?Yr(e)||ac(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):pc(t,e,r,o))?(Gn(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Jn(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!te(r))?Gn(t,at(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Jn(t,e,r,o))};function pc(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Qn(e)&&F(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Qn(e)&&te(s)?!1:e in t}const Zs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return I(e)?s=>Fs(e,s):e};function gc(t){t.target.composing=!0}function Xn(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Kt=Symbol("_assign"),Vs={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Kt]=Zs(n);const i=r||n.props&&n.props.type==="number";yt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Ks(a)),t[Kt](a)}),s&&yt(t,"change",()=>{t.value=t.value.trim()}),e||(yt(t,"compositionstart",gc),yt(t,"compositionend",Xn),yt(t,"change",Xn))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[Kt]=Zs(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Ks(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},_c={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const n=nr(e);yt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?Ks(er(o)):er(o));t[Kt](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,Yi(()=>{t._assigning=!1})}),t[Kt]=Zs(r)},mounted(t,{value:e}){Zn(t,e)},beforeUpdate(t,e,s){t[Kt]=Zs(s)},updated(t,{value:e}){t._assigning||Zn(t,e)}};function Zn(t,e){const s=t.multiple,r=I(e);if(!(s&&!r&&!nr(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=er(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=ha(e,a)>-1}else o.selected=e.has(a);else if(ar(er(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function er(t){return"_value"in t?t._value:t.value}const vc=["ctrl","shift","alt","meta"],mc={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>vc.some(s=>t[`${s}Key`]&&!e.includes(s))},ks=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=mc[e[o]];if(a&&a(n,e))return}return t(n,...i)})},yc=fe({patchProp:fc},Xl);let ei;function bc(){return ei||(ei=bl(yc))}const wc=(...t)=>{const e=bc().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=kc(r);if(!n)return;const i=e._component;!F(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Sc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Sc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function kc(t){return te(t)?document.querySelector(t):t}const Tc="modulepreload",Ec=function(t){return"/my-github-pages/"+t},ti={},Gt=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){let o=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=o(s.map(u=>{if(u=Ec(u),u in ti)return;ti[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":Tc,c||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),c)return new Promise((g,v)=>{p.addEventListener("load",g),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},xc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Gt(async()=>{const{default:r}=await Promise.resolve().then(()=>Yt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class _n extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Oc extends _n{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pc extends _n{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ac extends _n{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Br;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Br||(Br={}));var Cc=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class jc{constructor(e,{headers:s={},customFetch:r,region:n=Br.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=xc(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return Cc(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(v=>{throw new Oc(v)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Pc(c);if(!c.ok)throw new Ac(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield c.json():p==="application/octet-stream"?g=yield c.blob():p==="text/event-stream"?g=c:p==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}function $c(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Rc(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var se={},Ct={},jt={},$t={},Rt={},It={},Ic=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zt=Ic();const Dc=zt.fetch,Co=zt.fetch.bind(zt),jo=zt.Headers,Lc=zt.Request,Uc=zt.Response,Yt=Object.freeze(Object.defineProperty({__proto__:null,Headers:jo,Request:Lc,Response:Uc,default:Co,fetch:Dc},Symbol.toStringTag,{value:"Module"})),Mc=Rc(Yt);var Is={},si;function $o(){if(si)return Is;si=1,Object.defineProperty(Is,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Is.default=t,Is}var ri;function Ro(){if(ri)return It;ri=1;var t=It&&It.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(It,"__esModule",{value:!0});const e=t(Mc),s=t($o());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,p;let g=null,v=null,S=null,E=u.status,C=u.statusText;if(u.ok){if(this.method!=="HEAD"){const U=await u.text();U===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?v=U:v=JSON.parse(U))}const R=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),P=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");R&&P&&P.length>1&&(S=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(g={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,S=null,E=406,C="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const R=await u.text();try{g=JSON.parse(R),Array.isArray(g)&&u.status===404&&(v=[],g=null,E=200,C="OK")}catch{u.status===404&&R===""?(E=204,C="No Content"):g={message:R}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,E=200,C="OK"),g&&this.shouldThrowOnError)throw new s.default(g)}return{error:g,data:v,count:S,status:E,statusText:C}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,p;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return It.default=r,It}var ni;function Io(){if(ni)return Rt;ni=1;var t=Rt&&Rt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rt,"__esModule",{value:!0});const e=t(Ro());class s extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`,u==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Rt.default=s,Rt}var ii;function vn(){if(ii)return $t;ii=1;var t=$t&&$t.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($t,"__esModule",{value:!0});const e=t(Io());class s extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return $t.default=s,$t}var oi;function Do(){if(oi)return jt;oi=1;var t=jt&&jt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jt,"__esModule",{value:!0});const e=t(vn());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const u=n.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(n)){const h=n.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return jt.default=s,jt}var rs={},ns={},ai;function Fc(){return ai||(ai=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.version=void 0,ns.version="0.0.0-automated"),ns}var li;function Nc(){if(li)return rs;li=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.DEFAULT_HEADERS=void 0;const t=Fc();return rs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},rs}var ci;function Bc(){if(ci)return Ct;ci=1;var t=Ct&&Ct.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ct,"__esModule",{value:!0});const e=t(Do()),s=t(vn()),r=Nc();class n{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let h;const p=new URL(`${this.url}/rpc/${o}`);let g;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([S,E])=>E!==void 0).map(([S,E])=>[S,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([S,E])=>{p.searchParams.append(S,E)})):(h="POST",g=a);const v=Object.assign({},this.headers);return c&&(v.Prefer=`count=${c}`),new s.default({method:h,url:p,headers:v,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return Ct.default=n,Ct}var ui;function qc(){if(ui)return se;ui=1;var t=se&&se.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(se,"__esModule",{value:!0}),se.PostgrestError=se.PostgrestBuilder=se.PostgrestTransformBuilder=se.PostgrestFilterBuilder=se.PostgrestQueryBuilder=se.PostgrestClient=void 0;const e=t(Bc());se.PostgrestClient=e.default;const s=t(Do());se.PostgrestQueryBuilder=s.default;const r=t(vn());se.PostgrestFilterBuilder=r.default;const n=t(Io());se.PostgrestTransformBuilder=n.default;const i=t(Ro());se.PostgrestBuilder=i.default;const o=t($o());return se.PostgrestError=o.default,se.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},se}var Hc=qc();const Vc=$c(Hc),{PostgrestClient:Kc,PostgrestQueryBuilder:Fd,PostgrestFilterBuilder:Nd,PostgrestTransformBuilder:Bd,PostgrestBuilder:qd,PostgrestError:Hd}=Vc,Wc="2.11.2",Jc={"X-Client-Info":`realtime-js/${Wc}`},Gc="1.0.0",Lo=1e4,zc=1e3;var Wt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Wt||(Wt={}));var we;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(we||(we={}));var Ce;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ce||(Ce={}));var qr;(function(t){t.websocket="websocket"})(qr||(qr={}));var bt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(bt||(bt={}));class Yc{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Uo{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var z;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(z||(z={}));const hi=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Qc(o,t,e,n),i),{})},Qc=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?Mo(i,o):Hr(o)},Mo=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return tu(e,s)}switch(t){case z.bool:return Xc(e);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return Zc(e);case z.json:case z.jsonb:return eu(e);case z.timestamp:return su(e);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return Hr(e);default:return Hr(e)}},Hr=t=>t,Xc=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Zc=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},eu=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},tu=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Mo(e,a))}return t},su=t=>typeof t=="string"?t.replace(" ","T"):t,Fo=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Er{constructor(e,s,r={},n=Lo){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var di;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(di||(di={}));class gs{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=gs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=gs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const p=c.map(E=>E.presence_ref),g=h.map(E=>E.presence_ref),v=c.filter(E=>g.indexOf(E.presence_ref)<0),S=h.filter(E=>p.indexOf(E.presence_ref)<0);v.length>0&&(a[u]=v),S.length>0&&(l[u]=S)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),p=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(fi||(fi={}));var pi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(pi||(pi={}));var Ge;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ge||(Ge={}));class mn{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=we.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Er(this,Ce.join,this.params,this.timeout),this.rejoinTimer=new Uo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=we.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=we.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ce.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new gs(this),this.broadcastEndpointURL=Fo(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(Ge.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Ge.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(Ge.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,v=[];for(let S=0;S<g;S++){const E=p[S],{filter:{event:C,schema:L,table:R,filter:P}}=E,U=c&&c[S];if(U&&U.event===C&&U.schema===L&&U.table===R&&U.filter===P)v.push(Object.assign(Object.assign({},E),{id:U.id}));else{this.unsubscribe(),e==null||e(Ge.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Ge.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(Ge.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ge.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=we.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ce.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new Er(this,Ce.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Er(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ce;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var v,S,E;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((E=(S=g.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var v,S,E,C,L,R;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const P=g.id,U=(v=g.filter)===null||v===void 0?void 0:v.event;return P&&((S=s.ids)===null||S===void 0?void 0:S.includes(P))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((E=s.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const P=(L=(C=g==null?void 0:g.filter)===null||C===void 0?void 0:C.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return P==="*"||P===((R=s==null?void 0:s.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:S,table:E,commit_timestamp:C,type:L,errors:R}=v;p=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:C,eventType:L,new:{},old:{},errors:R}),this._getPayloadRecords(v))}g.callback(p,r)})}_isClosed(){return this.state===we.closed}_isJoined(){return this.state===we.joined}_isJoining(){return this.state===we.joining}_isLeaving(){return this.state===we.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&mn.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ce.close,{},e)}_onError(e){this._on(Ce.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=we.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=hi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=hi(e.columns,e.old_record)),s}}const ru=()=>{},nu=typeof WebSocket<"u",iu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ou{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Jc,this.params={},this.timeout=Lo,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ru,this.conn=null,this.sendBuffer=[],this.serializer=new Yc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Gt(async()=>{const{default:l}=await Promise.resolve().then(()=>Yt);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${qr.websocket}`,this.httpEndpoint=Fo(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Uo(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(nu){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new au(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Gt(async()=>{const{default:e}=await import("./browser-DAsigg2T.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gc}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Wt.connecting:return bt.Connecting;case Wt.open:return bt.Open;case Wt.closing:return bt.Closing;default:return bt.Closed}}isConnected(){return this.connectionState()===bt.Open}channel(e,s={config:{}}){const r=new mn(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(Ce.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(zc,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ce.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([iu],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class au{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Wt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class yn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function re(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class lu extends yn{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Vr extends yn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var cu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const No=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Gt(async()=>{const{default:r}=await Promise.resolve().then(()=>Yt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},uu=()=>cu(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gt(()=>Promise.resolve().then(()=>Yt),void 0)).Response:Response}),Kr=t=>{if(Array.isArray(t))return t.map(s=>Kr(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Kr(r)}),e};var kt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const xr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hu=(t,e,s)=>kt(void 0,void 0,void 0,function*(){const r=yield uu();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new lu(xr(n),t.status||500))}).catch(n=>{e(new Vr(xr(n),n))}):e(new Vr(xr(t),t))}),du=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function Ps(t,e,s,r,n,i){return kt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,du(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>hu(l,a,r))})})}function tr(t,e,s,r){return kt(this,void 0,void 0,function*(){return Ps(t,"GET",e,s,r)})}function nt(t,e,s,r,n){return kt(this,void 0,void 0,function*(){return Ps(t,"POST",e,r,n,s)})}function fu(t,e,s,r,n){return kt(this,void 0,void 0,function*(){return Ps(t,"PUT",e,r,n,s)})}function pu(t,e,s,r){return kt(this,void 0,void 0,function*(){return Ps(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Bo(t,e,s,r,n){return kt(this,void 0,void 0,function*(){return Ps(t,"DELETE",e,r,n,s)})}var ge=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const gu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _u{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=No(n)}uploadOrUpdate(e,s,r,n){return ge(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},gi),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(re(i))return{data:null,error:i};throw i}})}upload(e,s,r){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return ge(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:gi.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(re(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return ge(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield nt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new yn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}update(e,s,r){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return ge(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}copy(e,s,r){return ge(this,void 0,void 0,function*(){try{return{data:{path:(yield nt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return ge(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield nt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return ge(this,void 0,void 0,function*(){try{const n=yield nt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}download(e,s){return ge(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield tr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(re(a))return{data:null,error:a};throw a}})}info(e){return ge(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield tr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Kr(r),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}exists(e){return ge(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield pu(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(re(r)&&r instanceof Vr){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return ge(this,void 0,void 0,function*(){try{return{data:yield Bo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}list(e,s,r){return ge(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},gu),s),{prefix:e||""});return{data:yield nt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const vu="2.7.1",mu={"X-Client-Info":`storage-js/${vu}`};var Dt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class yu{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},mu),s),this.fetch=No(r)}listBuckets(){return Dt(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}})}getBucket(e){return Dt(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Dt(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Dt(this,void 0,void 0,function*(){try{return{data:yield fu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Dt(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Dt(this,void 0,void 0,function*(){try{return{data:yield Bo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}}class bu extends yu{constructor(e,s={},r){super(e,s,r)}from(e){return new _u(this.url,this.headers,e,this.fetch)}}const wu="2.49.7";let as="";typeof Deno<"u"?as="deno":typeof document<"u"?as="web":typeof navigator<"u"&&navigator.product==="ReactNative"?as="react-native":as="node";const Su={"X-Client-Info":`supabase-js-${as}/${wu}`},ku={headers:Su},Tu={schema:"public"},Eu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xu={};var Ou=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Pu=t=>{let e;return t?e=t:typeof fetch>"u"?e=Co:e=fetch,(...s)=>e(...s)},Au=()=>typeof Headers>"u"?jo:Headers,Cu=(t,e,s)=>{const r=Pu(s),n=Au();return(i,o)=>Ou(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var ju=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function $u(t){return t.replace(/\/$/,"")}function Ru(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,p={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>ju(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const qo="2.69.1",Ft=30*1e3,Wr=3,Or=Wr*Ft,Iu="http://localhost:9999",Du="supabase.auth.token",Lu={"X-Client-Info":`gotrue-js/${qo}`},Jr="X-Supabase-Api-Version",Ho={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Uu=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mu=6e5;class bn extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function M(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Fu extends bn{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Nu(t){return M(t)&&t.name==="AuthApiError"}class Vo extends bn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class ht extends bn{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class et extends ht{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bu(t){return M(t)&&t.name==="AuthSessionMissingError"}class Pr extends ht{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ds extends ht{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ls extends ht{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qu(t){return M(t)&&t.name==="AuthImplicitGrantRedirectError"}class _i extends ht{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gr extends ht{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Ar(t){return M(t)&&t.name==="AuthRetryableFetchError"}class vi extends ht{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class _s extends ht{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const mi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yi=` 	
\r=`.split(""),Hu=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<yi.length;e+=1)t[yi[e].charCodeAt(0)]=-2;for(let e=0;e<mi.length;e+=1)t[mi[e].charCodeAt(0)]=e;return t})();function Ko(t,e,s){const r=Hu[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function bi(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Wu(o,r,s)};for(let o=0;o<t.length;o+=1)Ko(t.charCodeAt(o),n,i);return e.join("")}function Vu(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Ku(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Vu(r,e)}}function Wu(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Ju(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Ko(t.charCodeAt(n),s,r);return new Uint8Array(e)}function Gu(t){const e=[];return Ku(t,s=>e.push(s)),new Uint8Array(e)}function zu(t){return Math.round(Date.now()/1e3)+t}function Yu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Me=()=>typeof window<"u"&&typeof document<"u",_t={tested:!1,writable:!1},vs=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_t.tested)return _t.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_t.tested=!0,_t.writable=!0}catch{_t.tested=!0,_t.writable=!1}return _t.writable};function Qu(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Wo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Gt(async()=>{const{default:r}=await Promise.resolve().then(()=>Yt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Xu=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Jo=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Us=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ms=async(t,e)=>{await t.removeItem(e)};class pr{constructor(){this.promise=new pr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}pr.promiseConstructor=Promise;function Cr(t){const e=t.split(".");if(e.length!==3)throw new _s("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Uu.test(e[r]))throw new _s("JWT not in base64url format");return{header:JSON.parse(bi(e[0])),payload:JSON.parse(bi(e[1])),signature:Ju(e[2]),raw:{header:e[0],payload:e[1]}}}async function Zu(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function eh(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function th(t){return("0"+t.toString(16)).substr(-2)}function sh(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,th).join("")}async function rh(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function nh(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await rh(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lt(t,e,s=!1){const r=sh();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Jo(t,`${e}-code-verifier`,n);const i=await nh(r);return[i,r===i?"plain":"s256"]}const ih=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oh(t){const e=t.headers.get(Jr);if(!e||!e.match(ih))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ah(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function lh(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ch=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const mt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uh=[502,503,504];async function wi(t){var e;if(!Xu(t))throw new Gr(mt(t),0);if(uh.includes(t.status))throw new Gr(mt(t),t.status);let s;try{s=await t.json()}catch(i){throw new Vo(mt(i),i)}let r;const n=oh(t);if(n&&n.getTime()>=Ho["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new vi(mt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new et}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new vi(mt(s),t.status,s.weak_password.reasons);throw new Fu(mt(s),t.status||500,r)}const hh=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function N(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Jr]||(i[Jr]=Ho["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await dh(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function dh(t,e,s,r,n,i){const o=hh(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Gr(mt(l),0)}if(a.ok||await wi(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await wi(l)}}function tt(t){var e;let s=null;_h(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=zu(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Si(t){const e=tt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function it(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fh(t){return{data:t,error:null}}function ph(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=ch(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function gh(t){return t}function _h(t){return t.access_token&&t.refresh_token&&t.expires_in}var vh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class mh{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Wo(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await N(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await N(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:it})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=vh(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await N(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:ph,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(M(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await N(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:it})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await N(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:gh});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const S=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(v.split(";")[1].split("=")[1]);u[`${E}Page`]=S}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(M(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await N(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:it})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await N(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:it})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await N(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:it})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await N(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(M(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await N(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(M(s))return{data:null,error:s};throw s}}}const yh={getItem:t=>vs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{vs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{vs()&&globalThis.localStorage.removeItem(t)}};function ki(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function bh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ut={debug:!!(globalThis&&vs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Go extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wh extends Go{}async function Sh(t,e,s){Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new wh(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ut.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}bh();const kh={url:Iu,storageKey:Du,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lu,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ti(t,e,s){return await s()}class Ts{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ts.nextInstanceID,Ts.nextInstanceID+=1,this.instanceID>0&&Me()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},kh),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new mh({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Wo(n.fetch),this.lock=n.lock||Ti,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Me()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Sh:this.lock=Ti,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:vs()?this.storage=yh:(this.memoryStorage={},this.storage=ki(this.memoryStorage)):(this.memoryStorage={},this.storage=ki(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qo}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Qu(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Me()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),qu(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return M(s)?{error:s}:{error:new Vo("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:tt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:p}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Lt(this.storage,this.storageKey)),i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:v},xform:tt})}else if("phone"in e){const{phone:c,password:h,options:p}=e;i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:tt})}else throw new Ds("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Si})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Si})}else throw new Ds("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Pr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await Us(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await N(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:tt});if(await Ms(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Pr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(M(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:tt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Pr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Lt(this.storage,this.storageKey));const{error:h}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ds("You must provide either an email or phone number.")}catch(a){if(M(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await N(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:tt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Lt(this.storage,this.storageKey)),await N(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:fh})}catch(i){if(M(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new et;const{error:n}=await N(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(M(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await N(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await N(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ds("You must provide either an email or phone number and a type")}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Us(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Or:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:it}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new et}:await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:it})})}catch(s){if(M(s))return Bu(s)&&(await this._removeSession(),await Ms(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new et;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Lt(this.storage,this.storageKey));const{data:u,error:c}=await N(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:it});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new et;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=Cr(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(M(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new et;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Me())throw new Ls("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ls(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new _i("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ls("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _i("No code detected.");const{data:L,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Ls("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let p=c+h;l&&(p=parseInt(l));const g=p-c;g*1e3<=Ft&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const v=p-h;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,c);const{data:S,error:E}=await this._getUser(i);if(E)throw E;const C={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(r){if(M(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Us(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Nu(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ms(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Yu(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Lt(this.storage,this.storageKey,!0));try{return await N(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(M(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(M(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await N(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Me()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(M(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await N(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(M(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await eh(async n=>(n>0&&await Zu(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await N(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Ar(i)&&Date.now()+o-r<Ft})}catch(r){if(this._debug(s,"error",r),M(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Me()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Us(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Or;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${Or}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Ar(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new pr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new et;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),M(i)){const o={session:null,error:i};return Ar(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Jo(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ms(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ft);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/Ft);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Ft}ms, refresh threshold is ${Wr} ticks`),n<=Wr&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Go)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Lt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await N(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(M(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await N(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(M(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(M(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(M(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Cr(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Mu>Date.now()))return r;const{data:n,error:i}=await N(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new _s("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===e),!r)throw new _s("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return{data:null,error:v};r=g.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=Cr(r);if(ah(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:n,signature:o},error:null}}const u=lh(n.alg),c=await this.fetchJwk(n.kid,s),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Gu(`${a}.${l}`)))throw new _s("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}}Ts.nextInstanceID=0;const Th=Ts;class Eh extends Th{constructor(e){super(e)}}var xh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Oh{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=$u(e),l=new URL(a);this.realtimeUrl=new URL("/realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("/auth/v1",l),this.storageUrl=new URL("/storage/v1",l),this.functionsUrl=new URL("/functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:Tu,realtime:xu,auth:Object.assign(Object.assign({},Eu),{storageKey:u}),global:ku},h=Ru(r??{},c);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Cu(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Kc(`${a}/rest/v1`,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new jc(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new bu(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return xh(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Eh({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ou(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ph=(t,e,s)=>new Oh(t,e,s),Ah="https://pmsgkdkyvowdqirnlquc.supabase.co",Ch="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBtc2drZGt5dm93ZHFpcm5scXVjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY2MzE3ODYsImV4cCI6MjA2MjIwNzc4Nn0.mpi2eMEOwfWBuA_7VeIp41N3pdedSrp5XacJ5CMIpDo",Ee=Ph(Ah,Ch),Tt=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},jh={class:"user-info-header"},$h={class:"header-content"},Rh={class:"points-display"},Ih={class:"user-status"},Dh={key:0,class:"user-email"},Lh={__name:"Header",props:{currentUser:Object,userDisplay:String,points:Number,handleGoogleLogin:Function,handleLogout:Function},setup(t){return(e,s)=>(X(),ee(Se,null,[A("header",jh,[A("div",$h,[A("div",Rh,oe(t.points)+" poeng",1),A("div",Ih,[t.currentUser?(X(),ee("span",Dh,"Innlogget som: "+oe(t.currentUser.email),1)):qe("",!0),t.currentUser?qe("",!0):(X(),ee("button",{key:1,onClick:s[0]||(s[0]=(...r)=>t.handleGoogleLogin&&t.handleGoogleLogin(...r)),class:"button login-button"}," Logg inn "))])])]),t.currentUser?(X(),ee("button",{key:0,onClick:s[1]||(s[1]=(...r)=>t.handleLogout&&t.handleLogout(...r)),class:"button logout-button-main"},"Logg ut")):qe("",!0)],64))}},Uh=Tt(Lh,[["__scopeId","data-v-f34ee8a9"]]),Mh={class:"products-section"},Fh={class:"products-grid"},Nh={class:"product-header"},Bh={class:"product-description"},qh={class:"product-footer"},Hh={class:"price"},Vh=["onClick","disabled"],Kh={__name:"ProductList",props:{products:Array,redeemProduct:Function,currentUser:Object,points:Number},setup(t){return(e,s)=>(X(),ee("section",Mh,[s[1]||(s[1]=A("h2",null,"Ls inn poeng:",-1)),A("div",Fh,[(X(!0),ee(Se,null,dn(t.products,(r,n)=>(X(),ee("div",{key:n,class:"product-card"},[A("div",Nh,[A("h3",null,oe(r.name),1),s[0]||(s[0]=A("span",{class:"product-dot"},null,-1))]),A("p",Bh,oe(r.description),1),A("div",qh,[A("p",Hh,oe(r.price)+" poeng",1),A("button",{onClick:()=>t.redeemProduct(r),class:"button redeem-button",disabled:!t.currentUser||t.points<r.price}," Ls inn ",8,Vh)])]))),128))])]))}},Wh=Tt(Kh,[["__scopeId","data-v-bf98af02"]]);function zo(t){return t?new Date(t).toLocaleDateString("no-NO",{day:"numeric",month:"short",year:"numeric"}):""}function sr(t){if(!t)return{badgeClass:"annet",label:"Annet"};let e="",s="";switch(t.toLowerCase()){case"pilates":e="pilates",s="Pilates";break;case"vann":e="vann",s="Vann";break;case"styrke":e="styrke",s="Styrke";break;default:e="annet",s="Annet"}return{badgeClass:e,label:s}}function Yo(t){if(!t)return"annet";switch(t.toLowerCase()){case"pilates":return"pilates";case"vann":return"vann";case"styrke":return"styrke";default:return"annet"}}function Jh(t,e,s,r,n,i){const o=ve([]),a=ve([]);async function l(v){var S,E;return v==="j"?"Jrgen":v==="t"?"Trine":t.value&&t.value.id===v?((S=t.value.user_metadata)==null?void 0:S.first_name)||((E=t.value.email)==null?void 0:E.split("@")[0])||"Bruker":`Bruker ${String(v).substring(0,6)}`}async function u(){const v=new Date;v.setDate(v.getDate()-7);const{data:S,error:E}=await Ee.from("sessions").select("*").gte("created_at",v.toISOString()).order("created_at",{ascending:!1});if(E){r("Feil ved henting av nylige kter: "+E.message,"error"),o.value=[];return}if(S){const C=await Promise.all(S.map(async L=>{const R=await l(L.user_id);return{...L,userName:R}}));o.value=C}else o.value=[]}async function c(){if(!t.value){a.value=[];return}const{data:v,error:S}=await Ee.from("sessions").select("*").eq("user_id",t.value.id).order("created_at",{ascending:!1});if(S){r("Feil ved henting av dine kter: "+S.message,"error"),a.value=[];return}if(v){const E=await Promise.all(v.map(async C=>{var R,P;const L=((R=t.value.user_metadata)==null?void 0:R.first_name)||((P=t.value.email)==null?void 0:P.split("@")[0])||"Meg";return{...C,userName:L}}));a.value=E}else a.value=[]}return{recentSessions:o,allUserSessions:a,fetchRecentSessionsWithUserNames:u,fetchAllUserSessions:c,saveSession:async()=>{var v,S;if(!t.value){r("Du m vre logget inn for  legge til kter.","error");return}if(!e.value.type||!e.value.title||!e.value.desc){r("Fyll ut type, tittel og beskrivelse.","warning");return}try{const E={user_id:t.value.id,title:e.value.title,desc:e.value.desc,type:e.value.type,varighet:e.value.varighet?Number(String(e.value.varighet).replace(/[^\\d]/g,"")):null},{data:C,error:L}=await Ee.from("sessions").insert([E]).select();if(L){r("Feil ved lagring av kt: "+L.message,"error");return}if(C&&C.length>0){const R=C[0],P=((v=t.value.user_metadata)==null?void 0:v.first_name)||((S=t.value.email)==null?void 0:S.split("@")[0])||"Meg",U={...R,userName:P};o.value.unshift(U),t.value&&R.user_id===t.value.id&&a.value.unshift(U),await n(1),r("kt lagt til!","success"),i.add()}}catch(E){r("Systemfeil ved lagring av kt: "+E.message,"error")}},confirmDeleteSession:async()=>{if(!s.value){r("Skriv inn en kt-ID.","warning");return}if(!t.value){r("Du m logge inn frst.","error");return}if(!confirm(`Er du sikker p at du vil slette kt med ID ${s.value}?`))return;const{data:v,error:S}=await Ee.from("sessions").delete().eq("id",s.value).eq("user_id",t.value.id).select();if(S){r("Kunne ikke slette kten: "+S.message,"error");return}v&&v.length===0?r("Ingen kt med denne ID-en funnet, eller det er ikke din kt.","warning"):(r("kt slettet!","success"),await n(-1),o.value=o.value.filter(E=>E.id!==s.value),a.value=a.value.filter(E=>E.id!==s.value),i.delete())},getUserNameForSession:l,clearUserSessions:()=>{a.value=[]}}}const Gh={class:"sessions-container"},zh={class:"sessions-section"},Yh={class:"section-header"},Qh={key:0,class:"session-actions-header"},Xh={class:"sessions-content-area"},Zh={key:0,class:"no-sessions"},ed={key:1,class:"session-list"},td={class:"session-user"},sd={class:"session-title"},rd={class:"session-date"},nd={key:0,class:"session-actions-footer"},id={__name:"SessionList",props:{recentSessions:Array,currentUser:Object,openAddSessionModal:Function,openDeleteSessionModal:Function,openSessionModal:Function},setup(t){return(e,s)=>(X(),ee("div",Gh,[A("section",zh,[A("div",Yh,[s[3]||(s[3]=A("h2",null,"Ukas kter",-1)),t.currentUser?(X(),ee("div",Qh,[A("button",{onClick:s[0]||(s[0]=(...r)=>t.openSessionModal&&t.openSessionModal(...r)),class:"button-outline view-my-sessions-button"}," Mine kter "),A("button",{onClick:s[1]||(s[1]=(...r)=>t.openAddSessionModal&&t.openAddSessionModal(...r)),class:"button add-session-button-main"}," Legg til kt ")])):qe("",!0)]),A("div",Xh,[t.recentSessions.length===0?(X(),ee("div",Zh," Ingen kter funnet. ")):(X(),ee("ul",ed,[(X(!0),ee(Se,null,dn(t.recentSessions,r=>(X(),ee("li",{key:r.id,class:"session-item"},[A("span",{class:lt(["dot",q(Yo)(r.type)])},null,2),A("span",td,oe(r.userName||"Ukjent")+":",1),A("span",sd,oe(r.title),1),A("span",{class:lt(["badge",q(sr)(r.type).badgeClass])},oe(q(sr)(r.type).label),3),A("span",rd,oe(q(zo)(r.created_at)),1)]))),128))]))]),t.currentUser?(X(),ee("div",nd,[A("button",{onClick:s[2]||(s[2]=(...r)=>t.openDeleteSessionModal&&t.openDeleteSessionModal(...r)),class:"button-text delete-session-button-footer"}," Slett kt ")])):qe("",!0)])]))}},od=Tt(id,[["__scopeId","data-v-cc956085"]]),ad={class:"modal-content"},ld={class:"form-group"},cd={class:"form-group"},ud={class:"form-group"},hd={class:"form-group"},dd={__name:"AddSessionModal",props:{isOpen:Boolean,newSession:Object},emits:["close","save"],setup(t,{emit:e}){const s=t,r=e,n=ve({...s.newSession});fs(()=>s.newSession,a=>{n.value={...a}},{deep:!0});const i=()=>{r("close")},o=()=>{r("save",{...n.value})};return(a,l)=>t.isOpen?(X(),ee("div",{key:0,class:"modal-overlay",onClick:ks(i,["self"])},[A("div",ad,[A("button",{onClick:i,class:"close-button"},""),l[10]||(l[10]=A("h3",null,"Legg til ny kt",-1)),A("form",{onSubmit:ks(o,["prevent"])},[A("div",ld,[l[5]||(l[5]=A("label",{for:"sessionType"},"Type:",-1)),is(A("select",{id:"sessionType","onUpdate:modelValue":l[0]||(l[0]=u=>n.value.type=u),required:""},l[4]||(l[4]=[Ml('<option value="" disabled data-v-858d8598>Velg type</option><option value="pilates" data-v-858d8598>Pilates</option><option value="vann" data-v-858d8598>Vann</option><option value="styrke" data-v-858d8598>Styrke</option><option value="annet" data-v-858d8598>Annet</option>',5)]),512),[[_c,n.value.type]])]),A("div",cd,[l[6]||(l[6]=A("label",{for:"sessionTitle"},"Tittel:",-1)),is(A("input",{type:"text",id:"sessionTitle","onUpdate:modelValue":l[1]||(l[1]=u=>n.value.title=u),required:""},null,512),[[Vs,n.value.title]])]),A("div",ud,[l[7]||(l[7]=A("label",{for:"sessionDesc"},"Beskrivelse:",-1)),is(A("textarea",{id:"sessionDesc","onUpdate:modelValue":l[2]||(l[2]=u=>n.value.desc=u),rows:"3",required:""},null,512),[[Vs,n.value.desc]])]),A("div",hd,[l[8]||(l[8]=A("label",{for:"sessionDuration"},"Varighet (minutter):",-1)),is(A("input",{type:"number",id:"sessionDuration","onUpdate:modelValue":l[3]||(l[3]=u=>n.value.varighet=u),min:"0"},null,512),[[Vs,n.value.varighet,void 0,{number:!0}]])]),l[9]||(l[9]=A("button",{type:"submit",class:"button submit-button"},"Lagre kt",-1))],32)])])):qe("",!0)}},fd=Tt(dd,[["__scopeId","data-v-858d8598"]]),pd={class:"modal-content"},gd={class:"form-group"},_d={__name:"DeleteSessionModal",props:{isOpen:Boolean,sessionIdToDelete:String},emits:["close","delete"],setup(t,{emit:e}){const s=t,r=e,n=ve(s.sessionIdToDelete);fs(()=>s.sessionIdToDelete,a=>{n.value=a});const i=()=>{r("close")},o=()=>{r("delete",n.value)};return(a,l)=>t.isOpen?(X(),ee("div",{key:0,class:"modal-overlay",onClick:ks(i,["self"])},[A("div",pd,[A("button",{onClick:i,class:"close-button"},""),l[4]||(l[4]=A("h3",null,"Slett kt",-1)),A("form",{onSubmit:ks(o,["prevent"])},[A("div",gd,[l[1]||(l[1]=A("label",{for:"sessionId"},"kt ID:",-1)),is(A("input",{type:"text",id:"sessionId","onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u),placeholder:"Skriv inn ID p kten du vil slette",required:""},null,512),[[Vs,n.value]])]),l[2]||(l[2]=A("p",{class:"warning-text"},"Er du sikker p at du vil slette denne kten? Dette kan ikke angres.",-1)),l[3]||(l[3]=A("button",{type:"submit",class:"button delete-confirm-button"},"Bekreft Sletting",-1))],32)])])):qe("",!0)}},vd=Tt(_d,[["__scopeId","data-v-1643b9f1"]]),md={class:"modal-content"},yd={key:0,class:"no-sessions"},bd={key:1,class:"session-list-modal"},wd={class:"session-title"},Sd={class:"session-desc"},kd={key:0,class:"session-duration"},Td={class:"session-date"},Ed={class:"session-id"},xd={__name:"AllSessionsModal",props:{isOpen:Boolean,allUserSessions:Array},emits:["close"],setup(t,{emit:e}){const s=e,r=()=>{s("close")};return(n,i)=>t.isOpen?(X(),ee("div",{key:0,class:"modal-overlay",onClick:ks(r,["self"])},[A("div",md,[A("button",{onClick:r,class:"close-button"},""),i[0]||(i[0]=A("h3",null,"Alle Dine kter",-1)),t.allUserSessions.length===0?(X(),ee("div",yd,"Du har ingen lagrede kter.")):(X(),ee("ul",bd,[(X(!0),ee(Se,null,dn(t.allUserSessions,o=>(X(),ee("li",{key:o.id,class:"session-item-modal"},[A("span",{class:lt(["dot",q(Yo)(o.type)])},null,2),A("span",wd,oe(o.title),1),A("span",Sd,"("+oe(o.desc)+")",1),A("span",{class:lt(["badge",q(sr)(o.type).badgeClass])},oe(q(sr)(o.type).label),3),o.varighet?(X(),ee("span",kd,oe(o.varighet)+" min",1)):qe("",!0),A("span",Td,oe(q(zo)(o.created_at)),1),A("span",Ed,"(ID: "+oe(o.id)+")",1)]))),128))]))])])):qe("",!0)}},Od=Tt(xd,[["__scopeId","data-v-f9653c3e"]]),Pd={__name:"Notification",props:{notification:Object,clearNotification:Function},setup(t){return(e,s)=>t.notification.message?(X(),ee("div",{key:0,class:lt(["notification",t.notification.type])},[xo(oe(t.notification.message)+" ",1),A("button",{onClick:s[0]||(s[0]=(...r)=>t.clearNotification&&t.clearNotification(...r)),class:"close-notification"},"")],2)):qe("",!0)}},Ad=Tt(Pd,[["__scopeId","data-v-fc1a23ed"]]);function Cd(){const t=ve({message:"",type:"info"});let e=null;return{notification:t,showNotification:(n,i="info",o=5e3)=>{t.value={message:n,type:i},e&&clearTimeout(e),e=setTimeout(()=>{t.value={message:"",type:"info"}},o)},clearNotification:()=>{t.value={message:"",type:"info"},e&&clearTimeout(e)}}}function jd(){const t=ve(!1),e=ve(!1),s=ve(!1),r={type:"",title:"",desc:"",varighet:null},n=ve({...r}),i=ve(null),o=()=>t.value=!0,a=()=>t.value=!1,l=()=>{c(),e.value=!0},u=()=>{e.value=!1,c()},c=()=>{n.value={...r}};return{sessionModalOpen:t,addSessionModalOpen:e,deleteSessionModalOpen:s,newSession:n,sessionIdToDelete:i,openSessionModal:o,closeSessionModal:a,openAddSessionModal:l,closeAddSessionModal:u,resetNewSessionForm:c,openDeleteSessionModal:()=>{i.value=null,s.value=!0},closeDeleteSessionModal:()=>{s.value=!1,i.value=null}}}function $d(t,e,s,r){const n=ve(null),i=ve("Logg inn for  se poeng");async function o(c){if(!c)return;const{data:h,error:p}=await Ee.from("users").select("id").eq("id",c.id).single();if(p&&p.code==="PGRST116"){const{error:g}=await Ee.from("users").insert([{id:c.id,points:0}]);g&&t("Feil ved opprettelse av bruker: "+g.message,"error")}else p&&t("Feil ved sjekking av bruker: "+p.message,"error")}async function a(){var h;const{data:{user:c}}=await Ee.auth.getUser();n.value=c,c?(await o(c),i.value=`Innlogget som: ${((h=c.user_metadata)==null?void 0:h.first_name)||c.email}`,await e(),await s()):(i.value="Logg inn for  se poeng",r(),await e(),await s())}return{currentUser:n,userDisplay:i,checkAuth:a,handleGoogleLogin:async()=>{try{const{error:c}=await Ee.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});c&&t("Innlogging feilet: "+c.message,"error")}catch(c){t("Innloggingsfeil: "+c.message,"error")}},handleLogout:async()=>{const{error:c}=await Ee.auth.signOut();c?t("Utlogging feilet: "+c.message,"error"):t("Du har blitt logget ut","info")},ensureUserExists:o}}function Rd(t,e){const s=ve(0);async function r(){if(!t.value)return 0;const{data:o,error:a}=await Ee.from("users").select("points").eq("id",t.value.id).single();return a||!o?(console.warn("Could not fetch points:",a==null?void 0:a.message),0):Number(o.points)}async function n(){if(!t.value){s.value=0;return}s.value=await r()}async function i(o){if(!t.value)return;const l=(await r()||0)+o,{error:u}=await Ee.from("users").update({points:l}).eq("id",t.value.id);u?e("Feil ved oppdatering av poeng: "+u.message,"error"):(await n(),e(`${o>0?"+":""}${o} poeng!`,o>0?"success":"warning"))}return{points:s,updatePointDisplay:n,updatePoints:i}}function Id(t,e,s,r){return{products:ve([{name:"Treningsuke",description:"En uke gratis medlemskap p treningssenteret.",price:75},{name:"Personlig trener",description:"En time med personlig trener for  optimalisere treningsrutinen din.",price:150},{name:"Treningsdrakt",description:"Komplett treningsdrakt i hy kvalitet med senterets logo.",price:200}]),redeemProduct:o=>{if(!t.value){r("Logg inn for  lse inn poeng.","error");return}if(e.value<o.price){r("Ikke nok poeng!","error");return}s(-o.price),r(`Du har lst inn ${o.name}! (Simulert)`,"success")}}}const Dd={id:"app-container"},Ld={class:"container"},Ud={__name:"App",setup(t){const{notification:e,showNotification:s,clearNotification:r}=Cd(),{sessionModalOpen:n,addSessionModalOpen:i,deleteSessionModalOpen:o,newSession:a,sessionIdToDelete:l,openSessionModal:u,closeSessionModal:c,openAddSessionModal:h,closeAddSessionModal:p,openDeleteSessionModal:g,closeDeleteSessionModal:v}=jd(),{currentUser:S,userDisplay:E,checkAuth:C,handleGoogleLogin:L,handleLogout:R}=$d(s,async()=>{await U()},async()=>{await dt()},()=>{As()}),{points:P,updatePointDisplay:U,updatePoints:Pe}=Rd(S,s),{products:Te,redeemProduct:$e}=Id(S,P,Pe,s),{recentSessions:Et,allUserSessions:Ke,fetchRecentSessionsWithUserNames:dt,fetchAllUserSessions:xt,saveSession:Ot,confirmDeleteSession:Qt,clearUserSessions:As}=Jh(S,a,l,s,Pe,{add:p,delete:v,all:c}),ne=async H=>{a.value={...H},await Ot()},Q=async H=>{l.value=H,await Qt()};return no(async()=>{await C();const{data:H}=Ee.auth.onAuthStateChange(async(Ae,Pt)=>{console.log("Auth event:",Ae,Pt),await C(),Ae==="SIGNED_IN"&&await xt()})}),hn(()=>{}),(H,Ae)=>(X(),ee("div",Dd,[ie(Ad,{notification:q(e),clearNotification:q(r)},null,8,["notification","clearNotification"]),ie(Uh,{currentUser:q(S),userDisplay:q(E),points:q(P),handleGoogleLogin:q(L),handleLogout:q(R)},null,8,["currentUser","userDisplay","points","handleGoogleLogin","handleLogout"]),A("main",Ld,[ie(Wh,{products:q(Te),redeemProduct:q($e),currentUser:q(S),points:q(P)},null,8,["products","redeemProduct","currentUser","points"]),ie(od,{recentSessions:q(Et),currentUser:q(S),openAddSessionModal:q(h),openDeleteSessionModal:q(g),openSessionModal:q(u)},null,8,["recentSessions","currentUser","openAddSessionModal","openDeleteSessionModal","openSessionModal"])]),ie(fd,{isOpen:q(i),newSession:q(a),onClose:q(p),onSave:ne},null,8,["isOpen","newSession","onClose"]),ie(vd,{isOpen:q(o),sessionIdToDelete:q(l),onClose:q(v),onDelete:Q},null,8,["isOpen","sessionIdToDelete","onClose"]),ie(Od,{isOpen:q(n),allUserSessions:q(Ke),onClose:q(c)},null,8,["isOpen","allUserSessions","onClose"])]))}};wc(Ud).mount("#app");export{$c as g};
