import{u as U}from"./B45o0bh_.js";import{d as p,O as v,P,Q as w,R as j,x as f,y as m,z as s,B as S,A as h,F as c,D as L,J as B,S as N,G as D,H as I,K as q,_ as F,L as A,T,I as G,U as k,V as R,W,X as x,r as J,Y as K,C as H,Z as Q}from"./Dp4WoKgW.js";import X from"./Chlul9kl.js";import{u as O,b as V,_ as Y,a as z}from"./DAR6fcUo.js";import"./rZAoiaVv.js";const M=Symbol("head-component"),$={body:{type:Boolean,default:void 0},tagPosition:{type:String}},b=a=>{const e=Object.fromEntries(Object.entries(a).filter(([n,t])=>t!==void 0));return typeof e.body<"u"&&(e.tagPosition=e.body?"bodyClose":"head"),typeof e.renderPriority<"u"&&(e.tagPriority=e.renderPriority),e};function y(){return P(M,E,!0)}function E(){const a=P(M,null);if(a)return a;const e=w({}),n=U(e),t={input:e,entry:n};return j(M,t),t}const _={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:{type:[String,Object,Array],default:void 0},contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:{type:[String,Object,Array],default:void 0},tabindex:String,title:String,translate:String,renderPriority:[String,Number],tagPriority:{type:[String,Number]}};p({name:"NoScript",inheritAttrs:!1,props:{..._,...$,title:String},setup(a,{slots:e}){const{input:n}=y();n.noscript||(n.noscript=[]);const t=n.noscript.push({})-1;return v(()=>n.noscript[t]=null),()=>{var u;const o=b(a),r=(u=e.default)==null?void 0:u.call(e),d=r?r.filter(({children:l})=>l).map(({children:l})=>l).join(""):"";return d&&(o.innerHTML=d),n.noscript[t]=o,null}}});p({name:"Link",inheritAttrs:!1,props:{..._,...$,as:String,crossorigin:String,disabled:Boolean,fetchpriority:String,href:String,hreflang:String,imagesizes:String,imagesrcset:String,integrity:String,media:String,prefetch:{type:Boolean,default:void 0},referrerpolicy:String,rel:String,sizes:String,title:String,type:String,methods:String,target:String},setup(a){const{input:e}=y();e.link||(e.link=[]);const n=e.link.push({})-1;return v(()=>e.link[n]=null),()=>(e.link[n]=b(a),null)}});p({name:"Base",inheritAttrs:!1,props:{..._,href:String,target:String},setup(a){const{input:e}=y();return v(()=>e.base=null),()=>(e.base=b(a),null)}});const Z=p({name:"Title",inheritAttrs:!1,setup(a,{slots:e}){const{input:n}=y();return v(()=>n.title=null),()=>{var o,r,d;const t=(o=e.default)==null?void 0:o.call(e);return n.title=(r=t==null?void 0:t[0])!=null&&r.children?String((d=t==null?void 0:t[0])==null?void 0:d.children):void 0,null}}}),tt=p({name:"Meta",inheritAttrs:!1,props:{..._,charset:String,content:String,httpEquiv:String,name:String,property:String},setup(a){const{input:e}=y();e.meta||(e.meta=[]);const n=e.meta.push({})-1;return v(()=>e.meta[n]=null),()=>{const t={"http-equiv":a.httpEquiv,...b(a)};return"httpEquiv"in t&&delete t.httpEquiv,e.meta[n]=t,null}}});p({name:"Style",inheritAttrs:!1,props:{..._,...$,type:String,media:String,nonce:String,title:String,scoped:{type:Boolean,default:void 0}},setup(a,{slots:e}){const{input:n}=y();n.style||(n.style=[]);const t=n.style.push({})-1;return v(()=>n.style[t]=null),()=>{var d,u,l;const o=b(a),r=(l=(u=(d=e.default)==null?void 0:d.call(e))==null?void 0:u[0])==null?void 0:l.children;return r&&(n.style[t]=o,o.textContent=r),null}}});const et=p({name:"Head",inheritAttrs:!1,setup:(a,e)=>(E(),()=>{var n,t;return(t=(n=e.slots).default)==null?void 0:t.call(n)})}),nt=p({name:"Html",inheritAttrs:!1,props:{..._,manifest:String,version:String,xmlns:String},setup(a,e){const{input:n}=y();return v(()=>n.htmlAttrs=null),()=>{var t,o;return n.htmlAttrs={...a,...e.attrs},(o=(t=e.slots).default)==null?void 0:o.call(t)}}}),st={class:"header-content"},ot={class:"points-section"},it={class:"points-value"},lt={class:"user-section"},rt={class:"user-section"},at={key:1,class:"user-btn",disabled:""},dt=p({__name:"AppHeader",setup(a){const{user:e,points:n,isLoggedIn:t,loginWithGoogle:o}=O();return(r,d)=>{var l;const u=X;return m(),f("header",null,[s("div",st,[s("div",ot,[S(u,{name:"lucide:cat",class:"lucide-cat"}),s("span",it,h(c(n)),1),d[1]||(d[1]=s("span",{class:"points-label"},"poeng",-1))]),s("div",lt,[s("div",rt,[c(t)?(m(),f("button",at,[S(u,{name:"lucide:user-check"}),L(" "+h((l=c(e))==null?void 0:l.email),1)])):(m(),f("button",{key:0,onClick:d[0]||(d[0]=(...i)=>c(o)&&c(o)(...i)),class:"user-btn"}," Logg inn med Google "))])])])])}}}),ct={id:"notification-container",class:"notification-container"},ut=["onClick"],pt=p({__name:"AppNotifications",setup(a){const e=B("notifications",()=>[]),n=t=>{const o=e.value.findIndex(r=>r.id===t);o>-1&&e.value.splice(o,1)};return N(e,t=>{t.forEach(o=>{setTimeout(()=>{n(o.id)},o.duration)})},{deep:!0}),(t,o)=>(m(),f("div",ct,[(m(!0),f(D,null,I(c(e),r=>(m(),f("div",{key:r.id,class:q(["toast-notification",`toast-${r.type}`])},[s("span",null,h(r.message),1),s("button",{class:"toast-close","aria-label":"Lukk",onClick:d=>n(r.id)}," × ",8,ut)],2))),128))]))}}),mt=F(pt,[["__scopeId","data-v-f3ab79c0"]]),gt={class:"modal-body"},ft={class:"session-list"},St={key:0,style:{color:"#888"}},vt=p({__name:"SessionModal",setup(a){const{isLoggedIn:e}=O(),{mySessions:n,isLoading:t,fetchMySessions:o}=V(),r=B("modals.mySessions",()=>!1),d=()=>{r.value=!1},u=l=>{l.target===l.currentTarget&&d()};return N(r,l=>{l&&e.value&&o()}),(l,i)=>{const g=Y;return c(r)?(m(),f("div",{key:0,class:"modal visible",onClick:u},[s("div",{class:"modal-content",onClick:i[0]||(i[0]=T(()=>{},["stop"]))},[s("div",{class:"modal-header"},[i[1]||(i[1]=s("h2",null,"Mine økter",-1)),s("span",{class:"close",onClick:d},"×")]),s("div",gt,[s("ul",ft,[(m(!0),f(D,null,I(c(n),C=>(m(),G(g,{key:C.id,session:C},null,8,["session"]))),128)),c(n).length===0&&!c(t)?(m(),f("li",St,h(c(e)?"Ingen økter funnet.":"Logg inn for å se dine økter."),1)):A("",!0)])]),s("div",{class:"modal-footer"},[s("button",{class:"close",onClick:d},"Lukk")])])])):A("",!0)}}}),yt={class:"modal-body"},_t=p({__name:"AddSessionModal",setup(a){const{addSession:e}=V(),n=B("modals.addSession",()=>!1),t=w({title:"",desc:"",type:"",varighet:""}),o=()=>{n.value=!1,d()},r=l=>{l.target===l.currentTarget&&o()},d=()=>{t.title="",t.desc="",t.type="",t.varighet=""},u=async()=>{const l=t.varighet.replace(/[^\d]/g,"");if(!t.title.trim()||t.type===""||!t.desc.trim()||!l){z().show("Fyll ut tittel, type, beskrivelse og varighet (kun tall).","warning");return}const i={title:t.title.trim(),desc:t.desc.trim(),type:t.type,varighet:Number(l)};await e(i)&&o()};return(l,i)=>c(n)?(m(),f("div",{key:0,class:"modal visible",onClick:r},[s("div",{class:"modal-content",onClick:i[4]||(i[4]=T(()=>{},["stop"]))},[s("div",{class:"modal-header"},[i[5]||(i[5]=s("h2",null,"Legg til økt",-1)),s("span",{class:"close",onClick:o},"×")]),s("div",yt,[i[7]||(i[7]=s("label",null,"Type økt",-1)),k(s("select",{"onUpdate:modelValue":i[0]||(i[0]=g=>c(t).type=g),class:"modal-input"},i[6]||(i[6]=[W('<option value="">Velg øktype</option><option value="Pilates">Pilates</option><option value="Styrke">Styrke</option><option value="Annet">Annet</option><option value="Vann">Vann</option>',5)]),512),[[R,c(t).type]]),i[8]||(i[8]=s("label",null,"Tittel",-1)),k(s("input",{"onUpdate:modelValue":i[1]||(i[1]=g=>c(t).title=g),class:"modal-input",placeholder:"Tittel"},null,512),[[x,c(t).title]]),i[9]||(i[9]=s("label",null,"Beskrivelse",-1)),k(s("textarea",{"onUpdate:modelValue":i[2]||(i[2]=g=>c(t).desc=g),class:"modal-input",placeholder:"Beskriv din økt her..."},null,512),[[x,c(t).desc]]),i[10]||(i[10]=s("label",null,"Varighet",-1)),k(s("input",{"onUpdate:modelValue":i[3]||(i[3]=g=>c(t).varighet=g),class:"modal-input",placeholder:"f.eks. '45' for 45 minutter"},null,512),[[x,c(t).varighet]])]),s("div",{class:"modal-footer"},[s("button",{class:"close",onClick:o},"Avbryt"),s("button",{class:"modal-save",onClick:u},"Lagre økt")])])])):A("",!0)}}),kt={class:"modal-body"},ht=p({__name:"DeleteSessionModal",setup(a){const{deleteSession:e}=V(),n=B("modals.deleteSession",()=>!1),t=J(null),o=()=>{n.value=!1,t.value=null},r=u=>{u.target===u.currentTarget&&o()},d=async()=>{if(!t.value||t.value<=0){z().show("Skriv inn en gyldig session ID","warning");return}await e(t.value)&&o()};return(u,l)=>c(n)?(m(),f("div",{key:0,class:"modal visible",onClick:r},[s("div",{class:"modal-content",onClick:l[1]||(l[1]=T(()=>{},["stop"]))},[s("div",{class:"modal-header"},[l[2]||(l[2]=s("h2",null,"Slett økt",-1)),s("span",{class:"close",onClick:o},"×")]),s("div",kt,[l[3]||(l[3]=s("label",{for:"delete-session-id"},"Session ID",-1)),k(s("input",{id:"delete-session-id","onUpdate:modelValue":l[0]||(l[0]=i=>K(t)?t.value=i:null),class:"modal-input",type:"number",min:"1",placeholder:"F.eks. 123"},null,512),[[x,c(t),void 0,{number:!0}]])]),s("div",{class:"modal-footer"},[s("button",{class:"close",onClick:o},"Avbryt"),s("button",{class:"modal-save",onClick:d},"Slett")])])])):A("",!0)}}),Mt=p({__name:"default",props:{title:{default:"Treningslogg"},description:{default:""}},setup(a){return(e,n)=>{const t=nt,o=Z,r=tt,d=et,u=dt,l=mt,i=vt,g=_t,C=ht;return m(),f("div",null,[S(t,{lang:"no"}),S(d,null,{default:H(()=>[S(o,null,{default:H(()=>[L(h(e.title||"My Shop"),1)]),_:1}),S(r,{name:"description",content:e.description||""},null,8,["content"])]),_:1}),S(u),s("main",null,[Q(e.$slots,"default")]),S(l),S(i),S(g),S(C)])}}});export{Mt as default};
