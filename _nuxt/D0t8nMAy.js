import w from"./BHVZz3M4.js";import{u as b,a as p,b as $,_ as A}from"./D_P6wEDT.js";import{d as f,x as d,y as a,z as s,A as _,E as i,B as g,D as E,F as C,G as I,H as M,I as k,o as P,J as v,K as y}from"./CYD0XE8W.js";import{u as F}from"./CnYIs0JJ.js";import"./BZPHATdx.js";const L=()=>{const{user:u,points:e,updatePoints:c}=b();return{shopItems:[{title:"1",description:"Koster bare en.",points:1,image:"üî•"},{title:"Meditation Cushion",description:"Comfortable meditation cushion to enhance your mindfulness practice.",points:150,image:"ü™ë"},{title:"Essential Oils Set",description:"Complete set of essential oils for aromatherapy and relaxation.",points:300,image:"üåø"},{title:"Fitness Tracker",description:"Smart fitness tracker to monitor your wellness journey and progress.",points:500,image:"‚åö"}],canPurchase:o=>u.value&&e.value>=o.points,purchaseItem:async o=>{if(!u.value)return p().show("Du m√• v√¶re logget inn for √• kj√∏pe varer","error"),!1;if(e.value<o.points)return p().show("Du har ikke nok poeng for √• kj√∏pe denne varen","warning"),!1;try{return await c(-o.points),p().show(`Du har kj√∏pt ${o.title}!`,"success"),!0}catch(n){return console.error("Error purchasing item:",n),p().show("Feil ved kj√∏p av vare","error"),!1}}}},T={class:"shop-card"},V={class:"shop-card-content"},R={class:"shop-card-icon"},z={class:"shop-card-title"},H={class:"shop-card-description"},K={class:"shop-card-price"},G={class:"price-amount"},J=["disabled"],O=f({__name:"ShopCard",props:{item:{}},emits:["purchase"],setup(u,{emit:e}){const c=u,l=e,{canPurchase:r}=L(),t=()=>{l("purchase",c.item)};return(o,n)=>{const S=w;return a(),d("div",T,[s("div",V,[s("div",R,_(o.item.image),1),s("h3",z,_(o.item.title),1),s("p",H,_(o.item.description),1),s("div",K,[s("span",G,_(o.item.points),1),n[0]||(n[0]=s("span",{class:"price-label"},"points",-1))]),s("button",{class:"shop-card-btn",disabled:!i(r)(o.item),onClick:t},[g(S,{name:"lucide:shopping-cart"}),n[1]||(n[1]=E(" Redeem "))],8,J)])])}}}),U={class:"shop-container"},q={class:"shop-wrapper"},Q={class:"shop-grid"},W=f({__name:"ShopSection",setup(u){const{shopItems:e,purchaseItem:c}=L(),l=async r=>{console.log("Purchase button clicked for item:",r);const t=await c(r);console.log("Purchase result:",t)};return(r,t)=>{const o=O;return a(),d("div",U,[s("div",q,[t[0]||(t[0]=s("h2",{class:"shop-title"},"Shop",-1)),s("div",Q,[(a(!0),d(C,null,I(i(e),n=>(a(),M(o,{key:n.title,item:n,onPurchase:l},null,8,["item"]))),128))])])])}}}),X={id:"sessions"},Y={class:"sessions-header"},Z={class:"sessions-title"},ss={class:"sessions-actions"},es={class:"session-list"},os={key:0,style:{color:"#888"}},ts={class:"session-delete-row"},ns=f({__name:"SessionsSection",setup(u){const{isLoggedIn:e,logout:c}=b(),{recentSessions:l,isLoading:r,fetchRecentSessions:t}=$(),o=k("modals.mySessions",()=>!1),n=k("modals.addSession",()=>!1),S=k("modals.deleteSession",()=>!1),D=()=>{if(!e.value){p().show("Logg inn f√∏rst","error");return}o.value=!0},j=()=>{if(!e.value){p().show("Logg inn f√∏rst","error");return}n.value=!0},x=()=>{if(!e.value){p().show("Logg inn f√∏rst","error");return}S.value=!0};return P(()=>{t()}),(is,h)=>{const B=w,N=A;return a(),d("section",X,[s("div",Y,[s("div",Z,[g(B,{name:"lucide:calendar-clock"}),h[1]||(h[1]=s("h2",null,"Ukas √∏kter",-1))]),s("div",ss,[s("button",{class:v(["sessions-tab active",{"is-disabled":!i(e)}]),onClick:D}," Mine √∏kter ",2),s("button",{class:v(["add-session-btn",{"is-disabled":!i(e)}]),onClick:j}," Legg til √∏kt ",2)])]),s("ul",es,[(a(!0),d(C,null,I(i(l),m=>(a(),M(N,{key:m.id,session:m},null,8,["session"]))),128)),i(l).length===0&&!i(r)?(a(),d("li",os," Ingen √∏kter funnet. ")):y("",!0)]),s("div",ts,[s("button",{class:v(["delete-session-trigger",{"is-disabled":!i(e)}]),onClick:x}," Slett √∏kt ",2),i(e)?(a(),d("button",{key:0,class:"delete-session-trigger",onClick:h[0]||(h[0]=(...m)=>i(c)&&i(c)(...m))}," Logg ut ")):y("",!0)])])}}}),us=f({__name:"index",setup(u){F({title:"Treningslogg",meta:[{name:"description",content:"Treningslogg"}]}),b();const{fetchRecentSessions:e}=$();return P(()=>{e()}),(c,l)=>{const r=W,t=ns;return a(),d("div",null,[g(r),g(t)])}}});export{us as default};
